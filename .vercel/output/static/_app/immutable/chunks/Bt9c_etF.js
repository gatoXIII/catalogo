import{S as tl,i as ol,s as ll,d as F,Y as nl,Z as al,a as rl,_ as Mo,F as zo,n as Ze,L as Bt,b as v,w as rt,O as il,x as me,y as _e,X as $,P as j,$ as nt,a0 as no,a1 as ao,a2 as at,a3 as sl,f as A,g as s,z as it,R as de,a4 as cl,G as i,h as _,j as g,k as D,m as V,l as ee,I as R,A as st,o as b,p as B,t as te,B as ct,e as ht,J as Dt,K as Lt,M as Xo,Q as Nt,U as Rt}from"./VwrJ_jBZ.js";import{g as ul}from"./D0QH3NT1.js";import"./ClsFpFEz.js";import{I as Jo,U as fl}from"./CAqCW1Qx.js";import{X as xo}from"./CLRgUYaD.js";import{L as At}from"./v0fJu9_I.js";import{S as Ko}from"./Dd2nhuDv.js";const{Error:xe,console:dl}=ul,p="C:/SERVER/SVELTE/tienda/src/lib/components/forms/ProductForm.svelte";function qo(o,e,t){const a=o.slice();return a[34]=e[t],a}function Go(o,e,t){const a=o.slice();return a[37]=e[t],a}function ro(o){let e,t,a,n,l,r;const u={c:function(){e=b("div"),t=Lt("svg"),a=Lt("path"),n=B(),l=b("span"),r=te(o[10]),this.h()},l:function(C){e=g(C,"DIV",{class:!0});var k=D(e);t=Dt(k,"svg",{class:!0,fill:!0,viewBox:!0});var d=D(t);a=Dt(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),D(a).forEach(v),d.forEach(v),n=V(k),l=g(k,"SPAN",{});var P=D(l);r=ee(P,o[10]),P.forEach(v),k.forEach(v),this.h()},h:function(){i(a,"fill-rule","evenodd"),i(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),i(a,"clip-rule","evenodd"),_(a,p,240,8,7622),i(t,"class","w-5 h-5 mr-2 mt-0.5 flex-shrink-0"),i(t,"fill","currentColor"),i(t,"viewBox","0 0 20 20"),_(t,p,239,6,7525),_(l,p,242,6,7911),i(e,"class","bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start"),_(e,p,238,4,7421)},m:function(C,k){A(C,e,k),s(e,t),s(t,a),s(e,n),s(e,l),s(l,r)},p:function(C,k){k[0]&1024&&ht(r,C[10])},d:function(C){C&&v(e)}};return F("SvelteRegisterBlock",{block:u,id:ro.name,type:"if",source:"(238:2) {#if error}",ctx:o}),u}function io(o){let e,t,a,n,l,r;const u={c:function(){e=b("div"),t=Lt("svg"),a=Lt("path"),n=B(),l=b("span"),r=te(o[11]),this.h()},l:function(C){e=g(C,"DIV",{class:!0});var k=D(e);t=Dt(k,"svg",{class:!0,fill:!0,viewBox:!0});var d=D(t);a=Dt(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),D(a).forEach(v),d.forEach(v),n=V(k),l=g(k,"SPAN",{});var P=D(l);r=ee(P,o[11]),P.forEach(v),k.forEach(v),this.h()},h:function(){i(a,"fill-rule","evenodd"),i(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"),i(a,"clip-rule","evenodd"),_(a,p,249,8,8184),i(t,"class","w-5 h-5 mr-2 mt-0.5 flex-shrink-0"),i(t,"fill","currentColor"),i(t,"viewBox","0 0 20 20"),_(t,p,248,6,8087),_(l,p,251,6,8391),i(e,"class","bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg flex items-start"),_(e,p,247,4,7977)},m:function(C,k){A(C,e,k),s(e,t),s(t,a),s(e,n),s(e,l),s(l,r)},p:function(C,k){k[0]&2048&&ht(r,C[11])},d:function(C){C&&v(e)}};return F("SvelteRegisterBlock",{block:u,id:io.name,type:"if",source:"(247:2) {#if success}",ctx:o}),u}function so(o){let e,t="El nombre es obligatorio";const a={c:function(){e=b("p"),e.textContent=t,this.h()},l:function(l){e=g(l,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-arhcll"&&(e.textContent=t),this.h()},h:function(){i(e,"class","mt-1 text-sm text-red-600"),_(e,p,272,8,9031)},m:function(l,r){A(l,e,r)},d:function(l){l&&v(e)}};return F("SvelteRegisterBlock",{block:a,id:so.name,type:"if",source:"(272:6) {#if !nombreValido && formData.nombre.length > 0}",ctx:o}),a}function Qo(o){let e,t,a="Seleccionar categor√≠a",n,l,r,u,c,C,k=Bt(o[0]),d=[];for(let S=0;S<k.length;S+=1)d[S]=co(Go(o,k,S));let P=!o[5]&&o[4].nombre.length>0&&uo(o),w=o[0].length===0&&fo(o);const E={c:function(){e=b("select"),t=b("option"),t.textContent=a;for(let y=0;y<d.length;y+=1)d[y].c();l=B(),P&&P.c(),r=B(),w&&w.c(),u=Rt(),this.h()},l:function(y){e=g(y,"SELECT",{id:!0,class:!0});var L=D(e);t=g(L,"OPTION",{"data-svelte-h":!0}),R(t)!=="svelte-4rs3l9"&&(t.textContent=a);for(let N=0;N<d.length;N+=1)d[N].l(L);L.forEach(v),l=V(y),P&&P.l(y),r=V(y),w&&w.l(y),u=Rt(),this.h()},h:function(){t.__value="",j(t,t.__value),_(t,p,296,10,9818),i(e,"id","categoria"),e.disabled=o[12],i(e,"class","input"),e.required=!0,nt(e,"border-red-500",!o[5]),_(e,p,287,8,9541)},m:function(y,L){A(y,e,L),s(e,t);for(let N=0;N<d.length;N+=1)d[N]&&d[N].m(e,null);Nt(e,o[4].categoria_id||""),A(y,l,L),P&&P.m(y,L),A(y,r,L),w&&w.m(y,L),A(y,u,L),c||(C=de(e,"change",o[14],!1,!1,!1,!1),c=!0)},p:function(y,L){if(L[0]&1){k=Bt(y[0]);let N;for(N=0;N<k.length;N+=1){const ne=Go(y,k,N);d[N]?d[N].p(ne,L):(d[N]=co(ne),d[N].c(),d[N].m(e,null))}for(;N<d.length;N+=1)d[N].d(1);d.length=k.length}L[0]&17&&n!==(n=y[4].categoria_id||"")&&Nt(e,y[4].categoria_id||""),L[0]&4096&&$(e,"disabled",y[12]),L[0]&32&&nt(e,"border-red-500",!y[5]),!y[5]&&y[4].nombre.length>0?P||(P=uo(y),P.c(),P.m(r.parentNode,r)):P&&(P.d(1),P=null),y[0].length===0?w||(w=fo(y),w.c(),w.m(u.parentNode,u)):w&&(w.d(1),w=null)},i:Ze,o:Ze,d:function(y){y&&(v(e),v(l),v(r),v(u)),Xo(d,y),P&&P.d(y),w&&w.d(y),c=!1,C()}};return F("SvelteRegisterBlock",{block:E,id:Qo.name,type:"else",source:"(287:6) {:else}",ctx:o}),E}function Yo(o){let e,t,a,n;t=new At({props:{class:"w-4 h-4 animate-spin mr-2"},$$inline:!0});const l={c:function(){e=b("div"),ct(t.$$.fragment),a=te(`\r
          Cargando categor√≠as...`),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var c=D(e);st(t.$$.fragment,c),a=ee(c,`\r
          Cargando categor√≠as...`),c.forEach(v),this.h()},h:function(){i(e,"class","input flex items-center text-gray-500"),_(e,p,282,8,9358)},m:function(u,c){A(u,e,c),it(t,e,null),s(e,a),n=!0},p:Ze,i:function(u){n||(_e(t.$$.fragment,u),n=!0)},o:function(u){me(t.$$.fragment,u),n=!1},d:function(u){u&&v(e),rt(t)}};return F("SvelteRegisterBlock",{block:l,id:Yo.name,type:"if",source:"(282:6) {#if loadingCategorias}",ctx:o}),l}function co(o){let e,t=o[37].nombre+"",a,n;const l={c:function(){e=b("option"),a=te(t),this.h()},l:function(u){e=g(u,"OPTION",{});var c=D(e);a=ee(c,t),c.forEach(v),this.h()},h:function(){e.__value=n=o[37].id,j(e,e.__value),_(e,p,298,12,9916)},m:function(u,c){A(u,e,c),s(e,a)},p:function(u,c){c[0]&1&&t!==(t=u[37].nombre+"")&&ht(a,t),c[0]&1&&n!==(n=u[37].id)&&($(e,"__value",n),j(e,e.__value))},d:function(u){u&&v(e)}};return F("SvelteRegisterBlock",{block:l,id:co.name,type:"each",source:"(298:10) {#each categorias as cat}",ctx:o}),l}function uo(o){let e,t="Debe seleccionar una categor√≠a";const a={c:function(){e=b("p"),e.textContent=t,this.h()},l:function(l){e=g(l,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1912p6h"&&(e.textContent=t),this.h()},h:function(){i(e,"class","mt-1 text-sm text-red-600"),_(e,p,302,10,10072)},m:function(l,r){A(l,e,r)},d:function(l){l&&v(e)}};return F("SvelteRegisterBlock",{block:a,id:uo.name,type:"if",source:"(302:8) {#if !categoriaValida && formData.nombre.length > 0}",ctx:o}),a}function fo(o){let e,t,a,n="Crear una";const l={c:function(){e=b("p"),t=te("No hay categor√≠as. "),a=b("a"),a.textContent=n,this.h()},l:function(u){e=g(u,"P",{class:!0});var c=D(e);t=ee(c,"No hay categor√≠as. "),a=g(c,"A",{href:!0,class:!0,"data-svelte-h":!0}),R(a)!=="svelte-14pibit"&&(a.textContent=n),c.forEach(v),this.h()},h:function(){i(a,"href","/categorias"),i(a,"class","underline"),_(a,p,306,31,10281),i(e,"class","mt-1 text-sm text-amber-600"),_(e,p,305,10,10209)},m:function(u,c){A(u,e,c),s(e,t),s(e,a)},d:function(u){u&&v(e)}};return F("SvelteRegisterBlock",{block:l,id:fo.name,type:"if",source:"(305:8) {#if categorias.length === 0}",ctx:o}),l}function Zo(o){let e,t,a="Sin marca",n,l,r,u,c,C=Bt(o[1]),k=[];for(let w=0;w<C.length;w+=1)k[w]=mo(qo(o,C,w));let d=o[1].length===0&&_o(o);const P={c:function(){e=b("select"),t=b("option"),t.textContent=a;for(let E=0;E<k.length;E+=1)k[E].c();l=B(),d&&d.c(),r=Rt(),this.h()},l:function(E){e=g(E,"SELECT",{id:!0,class:!0});var S=D(e);t=g(S,"OPTION",{"data-svelte-h":!0}),R(t)!=="svelte-107f01m"&&(t.textContent=a);for(let y=0;y<k.length;y+=1)k[y].l(S);S.forEach(v),l=V(E),d&&d.l(E),r=Rt(),this.h()},h:function(){t.__value="",j(t,t.__value),_(t,p,330,10,10948),i(e,"id","marca"),e.disabled=o[12],i(e,"class","input"),_(e,p,323,8,10754)},m:function(E,S){A(E,e,S),s(e,t);for(let y=0;y<k.length;y+=1)k[y]&&k[y].m(e,null);Nt(e,o[4].marca_id||""),A(E,l,S),d&&d.m(E,S),A(E,r,S),u||(c=de(e,"change",o[15],!1,!1,!1,!1),u=!0)},p:function(E,S){if(S[0]&2){C=Bt(E[1]);let y;for(y=0;y<C.length;y+=1){const L=qo(E,C,y);k[y]?k[y].p(L,S):(k[y]=mo(L),k[y].c(),k[y].m(e,null))}for(;y<k.length;y+=1)k[y].d(1);k.length=C.length}S[0]&17&&n!==(n=E[4].marca_id||"")&&Nt(e,E[4].marca_id||""),S[0]&4096&&$(e,"disabled",E[12]),E[1].length===0?d||(d=_o(E),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i:Ze,o:Ze,d:function(E){E&&(v(e),v(l),v(r)),Xo(k,E),d&&d.d(E),u=!1,c()}};return F("SvelteRegisterBlock",{block:P,id:Zo.name,type:"else",source:"(323:6) {:else}",ctx:o}),P}function Ho(o){let e,t,a,n;t=new At({props:{class:"w-4 h-4 animate-spin mr-2"},$$inline:!0});const l={c:function(){e=b("div"),ct(t.$$.fragment),a=te(`\r
          Cargando marcas...`),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var c=D(e);st(t.$$.fragment,c),a=ee(c,`\r
          Cargando marcas...`),c.forEach(v),this.h()},h:function(){i(e,"class","input flex items-center text-gray-500"),_(e,p,318,8,10575)},m:function(u,c){A(u,e,c),it(t,e,null),s(e,a),n=!0},p:Ze,i:function(u){n||(_e(t.$$.fragment,u),n=!0)},o:function(u){me(t.$$.fragment,u),n=!1},d:function(u){u&&v(e),rt(t)}};return F("SvelteRegisterBlock",{block:l,id:Ho.name,type:"if",source:"(318:6) {#if loadingMarcas}",ctx:o}),l}function mo(o){let e,t=o[34].nombre+"",a,n;const l={c:function(){e=b("option"),a=te(t),this.h()},l:function(u){e=g(u,"OPTION",{});var c=D(e);a=ee(c,t),c.forEach(v),this.h()},h:function(){e.__value=n=o[34].id,j(e,e.__value),_(e,p,332,12,11032)},m:function(u,c){A(u,e,c),s(e,a)},p:function(u,c){c[0]&2&&t!==(t=u[34].nombre+"")&&ht(a,t),c[0]&2&&n!==(n=u[34].id)&&($(e,"__value",n),j(e,e.__value))},d:function(u){u&&v(e)}};return F("SvelteRegisterBlock",{block:l,id:mo.name,type:"each",source:"(332:10) {#each marcas as marca}",ctx:o}),l}function _o(o){let e,t,a,n="Crear marca";const l={c:function(){e=b("p"),t=te("Opcional. "),a=b("a"),a.textContent=n,this.h()},l:function(u){e=g(u,"P",{class:!0});var c=D(e);t=ee(c,"Opcional. "),a=g(c,"A",{href:!0,class:!0,"data-svelte-h":!0}),R(a)!=="svelte-1rgbmfj"&&(a.textContent=n),c.forEach(v),this.h()},h:function(){i(a,"href","/marcas/nuevo"),i(a,"class","text-primary-600 underline"),_(a,p,337,22,11227),i(e,"class","mt-1 text-sm text-gray-500"),_(e,p,336,10,11165)},m:function(u,c){A(u,e,c),s(e,t),s(e,a)},d:function(u){u&&v(e)}};return F("SvelteRegisterBlock",{block:l,id:_o.name,type:"if",source:"(336:8) {#if marcas.length === 0}",ctx:o}),l}function po(o){let e,t="Ingresa un precio v√°lido";const a={c:function(){e=b("p"),e.textContent=t,this.h()},l:function(l){e=g(l,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1araqll"&&(e.textContent=t),this.h()},h:function(){i(e,"class","mt-1 text-sm text-red-600"),_(e,p,364,8,12023)},m:function(l,r){A(l,e,r)},d:function(l){l&&v(e)}};return F("SvelteRegisterBlock",{block:a,id:po.name,type:"if",source:"(364:6) {#if !precioValido && formData.precio !== ''}",ctx:o}),a}function Wo(o){let e,t,a=o[2]?"Actualizar Producto":"Crear Producto",n,l;e=new Ko({props:{class:"w-5 h-5 mr-2"},$$inline:!0});const r={c:function(){ct(e.$$.fragment),t=B(),n=te(a)},l:function(c){st(e.$$.fragment,c),t=V(c),n=ee(c,a)},m:function(c,C){it(e,c,C),A(c,t,C),A(c,n,C),l=!0},p:function(c,C){(!l||C[0]&4)&&a!==(a=c[2]?"Actualizar Producto":"Crear Producto")&&ht(n,a)},i:function(c){l||(_e(e.$$.fragment,c),l=!0)},o:function(c){me(e.$$.fragment,c),l=!1},d:function(c){c&&(v(t),v(n)),rt(e,c)}};return F("SvelteRegisterBlock",{block:r,id:Wo.name,type:"else",source:"(500:6) {:else}",ctx:o}),r}function $o(o){let e,t,a;e=new At({props:{class:"w-5 h-5 animate-spin mr-2"},$$inline:!0});const n={c:function(){ct(e.$$.fragment),t=te(`\r
        Guardando...`)},l:function(r){st(e.$$.fragment,r),t=ee(r,`\r
        Guardando...`)},m:function(r,u){it(e,r,u),A(r,t,u),a=!0},p:Ze,i:function(r){a||(_e(e.$$.fragment,r),a=!0)},o:function(r){me(e.$$.fragment,r),a=!1},d:function(r){r&&v(t),rt(e,r)}};return F("SvelteRegisterBlock",{block:n,id:$o.name,type:"if",source:"(497:6) {#if loading}",ctx:o}),n}function ho(o){let e,t,a="‚ö†Ô∏è Completa los campos obligatorios:",n,l,r,u,c=!o[7]&&go(o),C=!o[6]&&bo(o),k=!o[5]&&vo(o);const d={c:function(){e=b("div"),t=b("p"),t.textContent=a,n=B(),l=b("ul"),c&&c.c(),r=B(),C&&C.c(),u=B(),k&&k.c(),this.h()},l:function(w){e=g(w,"DIV",{class:!0});var E=D(e);t=g(E,"P",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-hvd1zz"&&(t.textContent=a),n=V(E),l=g(E,"UL",{class:!0});var S=D(l);c&&c.l(S),r=V(S),C&&C.l(S),u=V(S),k&&k.l(S),S.forEach(v),E.forEach(v),this.h()},h:function(){i(t,"class","text-sm text-amber-800 font-medium mb-2"),_(t,p,509,6,16259),i(l,"class","text-sm text-amber-700 space-y-1 ml-4"),_(l,p,512,6,16376),i(e,"class","bg-amber-50 border border-amber-200 rounded-lg p-4"),_(e,p,508,4,16187)},m:function(w,E){A(w,e,E),s(e,t),s(e,n),s(e,l),c&&c.m(l,null),s(l,r),C&&C.m(l,null),s(l,u),k&&k.m(l,null)},p:function(w,E){w[7]?c&&(c.d(1),c=null):c||(c=go(w),c.c(),c.m(l,r)),w[6]?C&&(C.d(1),C=null):C||(C=bo(w),C.c(),C.m(l,u)),w[5]?k&&(k.d(1),k=null):k||(k=vo(w),k.c(),k.m(l,null))},d:function(w){w&&v(e),c&&c.d(),C&&C.d(),k&&k.d()}};return F("SvelteRegisterBlock",{block:d,id:ho.name,type:"if",source:"(508:2) {#if !formularioValido}",ctx:o}),d}function go(o){let e,t="‚Ä¢ Nombre del producto";const a={c:function(){e=b("li"),e.textContent=t,this.h()},l:function(l){e=g(l,"LI",{"data-svelte-h":!0}),R(e)!=="svelte-17d2gsc"&&(e.textContent=t),this.h()},h:function(){_(e,p,514,10,16467)},m:function(l,r){A(l,e,r)},d:function(l){l&&v(e)}};return F("SvelteRegisterBlock",{block:a,id:go.name,type:"if",source:"(514:8) {#if !nombreValido}",ctx:o}),a}function bo(o){let e,t="‚Ä¢ Precio v√°lido";const a={c:function(){e=b("li"),e.textContent=t,this.h()},l:function(l){e=g(l,"LI",{"data-svelte-h":!0}),R(e)!=="svelte-1abj5gn"&&(e.textContent=t),this.h()},h:function(){_(e,p,517,10,16553)},m:function(l,r){A(l,e,r)},d:function(l){l&&v(e)}};return F("SvelteRegisterBlock",{block:a,id:bo.name,type:"if",source:"(517:8) {#if !precioValido}",ctx:o}),a}function vo(o){let e,t="‚Ä¢ Categor√≠a";const a={c:function(){e=b("li"),e.textContent=t,this.h()},l:function(l){e=g(l,"LI",{"data-svelte-h":!0}),R(e)!=="svelte-klwvux"&&(e.textContent=t),this.h()},h:function(){_(e,p,520,10,16636)},m:function(l,r){A(l,e,r)},d:function(l){l&&v(e)}};return F("SvelteRegisterBlock",{block:a,id:vo.name,type:"if",source:"(520:8) {#if !categoriaValida}",ctx:o}),a}function ko(o){let e,t,a,n,l,r,u,c,C="*",k,d,P,w,E,S,y,L,N="*",ne,O,m,He,ae,re,ut="Marca",We,J,x,$e,oe,pe,ft,Ce,gt="*",dt,he,we,bt="$",mt,f,T,Ie,le,ie,Ve="Precio de Oferta",vt,Ee,se,_t="$",pt,M,Tt,Oe,yo="Opcional: precio con descuento",Ut,Pe,Be,Co="Stock",Ot,K,Ft,Fe,wo="Opcional: cantidad disponible",jt,Ke,ge,Mt,zt,be,De,Eo="Descripci√≥n Corta",qt,Q,Gt,je,Po="M√°ximo 200 caracteres",Xt,Le,Ne,So="Descripci√≥n Detallada",Jt,W,xt,Re,Ae,ve,Kt,Me,Io="‚≠ê Producto destacado",Qt,Te,ke,Yt,ze,Vo="Producto activo (visible en cat√°logo)",Zt,Ue,ce,Qe,Ht,Wt,ye,ue,fe,kt,$t,z,eo,Bo,q=o[10]&&ro(o),G=o[11]&&io(o),Y=!o[7]&&o[4].nombre.length>0&&so(o);const Do=[Yo,Qo],qe=[];function Lo(H,h){return H[8]?0:1}O=Lo(o),m=qe[O]=Do[O](o);const No=[Ho,Zo],Ge=[];function Ro(H,h){return H[9]?0:1}J=Ro(o),x=Ge[J]=No[J](o);let Z=!o[6]&&o[4].precio!==""&&po(o);function el(H){o[26](H)}let Ao={label:"Imagen del Producto",disabled:o[12]};o[4].imagen_url!==void 0&&(Ao.imageUrl=o[4].imagen_url),ge=new Jo({props:Ao,$$inline:!0}),nl.push(()=>al(ge,"imageUrl",el)),ge.$on("upload",o[18]),ge.$on("remove",o[19]),Qe=new xo({props:{class:"w-4 h-4 mr-2"},$$inline:!0});const To=[$o,Wo],Xe=[];function Uo(H,h){return H[3]?0:1}ue=Uo(o),fe=Xe[ue]=To[ue](o);let X=!o[13]&&ho(o);const Oo={c:function(){e=b("form"),q&&q.c(),t=B(),G&&G.c(),a=B(),n=b("div"),l=b("div"),r=b("label"),u=te("Nombre del Producto "),c=b("span"),c.textContent=C,k=B(),d=b("input"),P=B(),Y&&Y.c(),w=B(),E=b("div"),S=b("label"),y=te("Categor√≠a "),L=b("span"),L.textContent=N,ne=B(),m.c(),He=B(),ae=b("div"),re=b("label"),re.textContent=ut,We=B(),x.c(),$e=B(),oe=b("div"),pe=b("label"),ft=te("Precio "),Ce=b("span"),Ce.textContent=gt,dt=B(),he=b("div"),we=b("span"),we.textContent=bt,mt=B(),f=b("input"),T=B(),Z&&Z.c(),Ie=B(),le=b("div"),ie=b("label"),ie.textContent=Ve,vt=B(),Ee=b("div"),se=b("span"),se.textContent=_t,pt=B(),M=b("input"),Tt=B(),Oe=b("p"),Oe.textContent=yo,Ut=B(),Pe=b("div"),Be=b("label"),Be.textContent=Co,Ot=B(),K=b("input"),Ft=B(),Fe=b("p"),Fe.textContent=wo,jt=B(),Ke=b("div"),ct(ge.$$.fragment),zt=B(),be=b("div"),De=b("label"),De.textContent=Eo,qt=B(),Q=b("input"),Gt=B(),je=b("p"),je.textContent=Po,Xt=B(),Le=b("div"),Ne=b("label"),Ne.textContent=So,Jt=B(),W=b("textarea"),xt=B(),Re=b("div"),Ae=b("label"),ve=b("input"),Kt=B(),Me=b("span"),Me.textContent=Io,Qt=B(),Te=b("label"),ke=b("input"),Yt=B(),ze=b("span"),ze.textContent=Vo,Zt=B(),Ue=b("div"),ce=b("button"),ct(Qe.$$.fragment),Ht=te(`\r
      Cancelar`),Wt=B(),ye=b("button"),fe.c(),$t=B(),X&&X.c(),this.h()},l:function(h){e=g(h,"FORM",{class:!0});var I=D(e);q&&q.l(I),t=V(I),G&&G.l(I),a=V(I),n=g(I,"DIV",{class:!0});var U=D(n);l=g(U,"DIV",{class:!0});var Se=D(l);r=g(Se,"LABEL",{for:!0,class:!0});var Ye=D(r);u=ee(Ye,"Nombre del Producto "),c=g(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1n3raya"&&(c.textContent=C),Ye.forEach(v),k=V(Se),d=g(Se,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),P=V(Se),Y&&Y.l(Se),Se.forEach(v),w=V(U),E=g(U,"DIV",{});var Je=D(E);S=g(Je,"LABEL",{for:!0,class:!0});var to=D(S);y=ee(to,"Categor√≠a "),L=g(to,"SPAN",{class:!0,"data-svelte-h":!0}),R(L)!=="svelte-1n3raya"&&(L.textContent=N),to.forEach(v),ne=V(Je),m.l(Je),Je.forEach(v),He=V(U),ae=g(U,"DIV",{});var yt=D(ae);re=g(yt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(re)!=="svelte-1980mpp"&&(re.textContent=ut),We=V(yt),x.l(yt),yt.forEach(v),$e=V(U),oe=g(U,"DIV",{});var et=D(oe);pe=g(et,"LABEL",{for:!0,class:!0});var oo=D(pe);ft=ee(oo,"Precio "),Ce=g(oo,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ce)!=="svelte-1n3raya"&&(Ce.textContent=gt),oo.forEach(v),dt=V(et),he=g(et,"DIV",{class:!0});var Ct=D(he);we=g(Ct,"SPAN",{class:!0,"data-svelte-h":!0}),R(we)!=="svelte-1ytna31"&&(we.textContent=bt),mt=V(Ct),f=g(Ct,"INPUT",{id:!0,type:!0,step:!0,min:!0,class:!0,placeholder:!0}),Ct.forEach(v),T=V(et),Z&&Z.l(et),et.forEach(v),Ie=V(U),le=g(U,"DIV",{});var tt=D(le);ie=g(tt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(ie)!=="svelte-1n7tpi5"&&(ie.textContent=Ve),vt=V(tt),Ee=g(tt,"DIV",{class:!0});var wt=D(Ee);se=g(wt,"SPAN",{class:!0,"data-svelte-h":!0}),R(se)!=="svelte-1ytna31"&&(se.textContent=_t),pt=V(wt),M=g(wt,"INPUT",{id:!0,type:!0,step:!0,min:!0,class:!0,placeholder:!0}),wt.forEach(v),Tt=V(tt),Oe=g(tt,"P",{class:!0,"data-svelte-h":!0}),R(Oe)!=="svelte-1e60zvr"&&(Oe.textContent=yo),tt.forEach(v),Ut=V(U),Pe=g(U,"DIV",{});var ot=D(Pe);Be=g(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(Be)!=="svelte-1fw3joh"&&(Be.textContent=Co),Ot=V(ot),K=g(ot,"INPUT",{id:!0,type:!0,min:!0,class:!0,placeholder:!0}),Ft=V(ot),Fe=g(ot,"P",{class:!0,"data-svelte-h":!0}),R(Fe)!=="svelte-rc5706"&&(Fe.textContent=wo),ot.forEach(v),jt=V(U),Ke=g(U,"DIV",{class:!0});var Fo=D(Ke);st(ge.$$.fragment,Fo),Fo.forEach(v),zt=V(U),be=g(U,"DIV",{class:!0});var lt=D(be);De=g(lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(De)!=="svelte-al20oo"&&(De.textContent=Eo),qt=V(lt),Q=g(lt,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0,maxlength:!0}),Gt=V(lt),je=g(lt,"P",{class:!0,"data-svelte-h":!0}),R(je)!=="svelte-315ai"&&(je.textContent=Po),lt.forEach(v),Xt=V(U),Le=g(U,"DIV",{class:!0});var Et=D(Le);Ne=g(Et,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(Ne)!=="svelte-1enyval"&&(Ne.textContent=So),Jt=V(Et),W=g(Et,"TEXTAREA",{id:!0,rows:!0,class:!0,placeholder:!0}),D(W).forEach(v),Et.forEach(v),xt=V(U),Re=g(U,"DIV",{class:!0});var Pt=D(Re);Ae=g(Pt,"LABEL",{class:!0});var St=D(Ae);ve=g(St,"INPUT",{type:!0,class:!0}),Kt=V(St),Me=g(St,"SPAN",{class:!0,"data-svelte-h":!0}),R(Me)!=="svelte-ztmx5h"&&(Me.textContent=Io),St.forEach(v),Qt=V(Pt),Te=g(Pt,"LABEL",{class:!0});var It=D(Te);ke=g(It,"INPUT",{type:!0,class:!0}),Yt=V(It),ze=g(It,"SPAN",{class:!0,"data-svelte-h":!0}),R(ze)!=="svelte-1hdeuox"&&(ze.textContent=Vo),It.forEach(v),Pt.forEach(v),U.forEach(v),Zt=V(I),Ue=g(I,"DIV",{class:!0});var Vt=D(Ue);ce=g(Vt,"BUTTON",{type:!0,class:!0});var lo=D(ce);st(Qe.$$.fragment,lo),Ht=ee(lo,`\r
      Cancelar`),lo.forEach(v),Wt=V(Vt),ye=g(Vt,"BUTTON",{type:!0,class:!0});var jo=D(ye);fe.l(jo),jo.forEach(v),Vt.forEach(v),$t=V(I),X&&X.l(I),I.forEach(v),this.h()},h:function(){i(c,"class","text-red-500"),_(c,p,259,28,8617),i(r,"for","nombre"),i(r,"class","label"),_(r,p,258,6,8553),i(d,"id","nombre"),i(d,"type","text"),d.disabled=o[12],i(d,"class","input"),i(d,"placeholder","Ej: Laptop Gamer Pro"),d.required=!0,nt(d,"border-red-500",!o[7]&&o[4].nombre.length>0),_(d,p,261,6,8676),i(l,"class","md:col-span-2"),_(l,p,257,4,8518),i(L,"class","text-red-500"),_(L,p,279,18,9266),i(S,"for","categoria"),i(S,"class","label"),_(S,p,278,6,9209),_(E,p,277,4,9196),i(re,"for","marca"),i(re,"class","label"),_(re,p,314,6,10474),_(ae,p,313,4,10461),i(Ce,"class","text-red-500"),_(Ce,p,346,15,11450),i(pe,"for","precio"),i(pe,"class","label"),_(pe,p,345,6,11399),i(we,"class","absolute left-3 top-2.5 text-gray-500"),_(we,p,349,8,11541),i(f,"id","precio"),i(f,"type","number"),i(f,"step","0.01"),i(f,"min","0"),f.disabled=o[12],i(f,"class","input pl-8"),i(f,"placeholder","0.00"),f.required=!0,nt(f,"border-red-500",!o[6]&&o[4].precio!==""),_(f,p,350,8,11611),i(he,"class","relative"),_(he,p,348,6,11509),_(oe,p,344,4,11386),i(ie,"for","precio_oferta"),i(ie,"class","label"),_(ie,p,370,6,12165),i(se,"class","absolute left-3 top-2.5 text-gray-500"),_(se,p,374,8,12288),i(M,"id","precio_oferta"),i(M,"type","number"),i(M,"step","0.01"),i(M,"min","0"),M.disabled=o[12],i(M,"class","input pl-8"),i(M,"placeholder","0.00"),_(M,p,375,8,12358),i(Ee,"class","relative"),_(Ee,p,373,6,12256),i(Oe,"class","mt-1 text-xs text-gray-500"),_(Oe,p,386,6,12635),_(le,p,369,4,12152),i(Be,"for","stock"),i(Be,"class","label"),_(Be,p,391,6,12760),i(K,"id","stock"),i(K,"type","number"),i(K,"min","0"),K.disabled=o[12],i(K,"class","input"),i(K,"placeholder","Dejar vac√≠o si no aplica"),_(K,p,394,6,12832),i(Fe,"class","mt-1 text-xs text-gray-500"),_(Fe,p,403,6,13055),_(Pe,p,390,4,12747),i(Ke,"class","md:col-span-2"),_(Ke,p,409,4,13199),i(De,"for","descripcion_corta"),i(De,"class","label"),_(De,p,421,6,13536),i(Q,"id","descripcion_corta"),i(Q,"type","text"),Q.disabled=o[12],i(Q,"class","input"),i(Q,"placeholder","Breve descripci√≥n del producto (se muestra en listados)"),i(Q,"maxlength","200"),_(Q,p,424,6,13632),i(je,"class","mt-1 text-xs text-gray-500"),_(je,p,433,6,13916),i(be,"class","md:col-span-2"),_(be,p,420,4,13501),i(Ne,"for","descripcion_larga"),i(Ne,"class","label"),_(Ne,p,438,6,14066),i(W,"id","descripcion_larga"),W.disabled=o[12],i(W,"rows","4"),i(W,"class","input resize-none"),i(W,"placeholder","Descripci√≥n completa del producto con todos los detalles..."),_(W,p,441,6,14166),i(Le,"class","md:col-span-2"),_(Le,p,437,4,14031),i(ve,"type","checkbox"),ve.disabled=o[12],i(ve,"class","w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"),_(ve,p,454,8,14592),i(Me,"class","ml-2 text-sm text-gray-700 font-medium"),_(Me,p,460,8,14816),i(Ae,"class","flex items-center cursor-pointer"),_(Ae,p,453,6,14534),i(ke,"type","checkbox"),ke.disabled=o[12],i(ke,"class","w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"),_(ke,p,466,8,15002),i(ze,"class","ml-2 text-sm text-gray-700 font-medium"),_(ze,p,472,8,15223),i(Te,"class","flex items-center cursor-pointer"),_(Te,p,465,6,14944),i(Re,"class","md:col-span-2 flex flex-wrap gap-6"),_(Re,p,452,4,14478),i(n,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),_(n,p,255,2,8440),i(ce,"type","button"),ce.disabled=o[12],i(ce,"class","btn-secondary w-full sm:w-auto"),_(ce,p,481,4,15505),i(ye,"type","submit"),ye.disabled=kt=!o[13]||o[12],i(ye,"class","btn-primary w-full sm:flex-1 flex items-center justify-center"),_(ye,p,491,4,15719),i(Ue,"class","flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t border-gray-200"),_(Ue,p,480,2,15416),i(e,"class","space-y-6"),_(e,p,235,0,7300)},m:function(h,I){A(h,e,I),q&&q.m(e,null),s(e,t),G&&G.m(e,null),s(e,a),s(e,n),s(n,l),s(l,r),s(r,u),s(r,c),s(l,k),s(l,d),j(d,o[4].nombre),s(l,P),Y&&Y.m(l,null),s(n,w),s(n,E),s(E,S),s(S,y),s(S,L),s(E,ne),qe[O].m(E,null),s(n,He),s(n,ae),s(ae,re),s(ae,We),Ge[J].m(ae,null),s(n,$e),s(n,oe),s(oe,pe),s(pe,ft),s(pe,Ce),s(oe,dt),s(oe,he),s(he,we),s(he,mt),s(he,f),j(f,o[4].precio),s(oe,T),Z&&Z.m(oe,null),s(n,Ie),s(n,le),s(le,ie),s(le,vt),s(le,Ee),s(Ee,se),s(Ee,pt),s(Ee,M),j(M,o[4].precio_oferta),s(le,Tt),s(le,Oe),s(n,Ut),s(n,Pe),s(Pe,Be),s(Pe,Ot),s(Pe,K),j(K,o[4].stock),s(Pe,Ft),s(Pe,Fe),s(n,jt),s(n,Ke),it(ge,Ke,null),s(n,zt),s(n,be),s(be,De),s(be,qt),s(be,Q),j(Q,o[4].descripcion_corta),s(be,Gt),s(be,je),s(n,Xt),s(n,Le),s(Le,Ne),s(Le,Jt),s(Le,W),j(W,o[4].descripcion_larga),s(n,xt),s(n,Re),s(Re,Ae),s(Ae,ve),ve.checked=o[4].destacado,s(Ae,Kt),s(Ae,Me),s(Re,Qt),s(Re,Te),s(Te,ke),ke.checked=o[4].activo,s(Te,Yt),s(Te,ze),s(e,Zt),s(e,Ue),s(Ue,ce),it(Qe,ce,null),s(ce,Ht),s(Ue,Wt),s(Ue,ye),Xe[ue].m(ye,null),s(e,$t),X&&X.m(e,null),z=!0,eo||(Bo=[de(d,"input",o[22]),de(f,"input",o[23]),de(M,"input",o[24]),de(K,"input",o[25]),de(Q,"input",o[27]),de(W,"input",o[28]),de(ve,"change",o[29]),de(ke,"change",o[30]),de(ce,"click",o[17],!1,!1,!1,!1),de(e,"submit",cl(o[16]),!1,!0,!1,!1)],eo=!0)},p:function(h,I){h[10]?q?q.p(h,I):(q=ro(h),q.c(),q.m(e,t)):q&&(q.d(1),q=null),h[11]?G?G.p(h,I):(G=io(h),G.c(),G.m(e,a)):G&&(G.d(1),G=null),(!z||I[0]&4096)&&$(d,"disabled",h[12]),I[0]&17&&d.value!==h[4].nombre&&j(d,h[4].nombre),(!z||I[0]&144)&&nt(d,"border-red-500",!h[7]&&h[4].nombre.length>0),!h[7]&&h[4].nombre.length>0?Y||(Y=so(h),Y.c(),Y.m(l,null)):Y&&(Y.d(1),Y=null);let U=O;O=Lo(h),O===U?qe[O].p(h,I):(no(),me(qe[U],1,1,()=>{qe[U]=null}),ao(),m=qe[O],m?m.p(h,I):(m=qe[O]=Do[O](h),m.c()),_e(m,1),m.m(E,null));let Se=J;J=Ro(h),J===Se?Ge[J].p(h,I):(no(),me(Ge[Se],1,1,()=>{Ge[Se]=null}),ao(),x=Ge[J],x?x.p(h,I):(x=Ge[J]=No[J](h),x.c()),_e(x,1),x.m(ae,null)),(!z||I[0]&4096)&&$(f,"disabled",h[12]),I[0]&17&&at(f.value)!==h[4].precio&&j(f,h[4].precio),(!z||I[0]&80)&&nt(f,"border-red-500",!h[6]&&h[4].precio!==""),!h[6]&&h[4].precio!==""?Z||(Z=po(h),Z.c(),Z.m(oe,null)):Z&&(Z.d(1),Z=null),(!z||I[0]&4096)&&$(M,"disabled",h[12]),I[0]&17&&at(M.value)!==h[4].precio_oferta&&j(M,h[4].precio_oferta),(!z||I[0]&4096)&&$(K,"disabled",h[12]),I[0]&17&&at(K.value)!==h[4].stock&&j(K,h[4].stock);const Ye={};I[0]&4096&&(Ye.disabled=h[12]),!Mt&&I[0]&16&&(Mt=!0,Ye.imageUrl=h[4].imagen_url,sl(()=>Mt=!1)),ge.$set(Ye),(!z||I[0]&4096)&&$(Q,"disabled",h[12]),I[0]&17&&Q.value!==h[4].descripcion_corta&&j(Q,h[4].descripcion_corta),(!z||I[0]&4096)&&$(W,"disabled",h[12]),I[0]&17&&j(W,h[4].descripcion_larga),(!z||I[0]&4096)&&$(ve,"disabled",h[12]),I[0]&17&&(ve.checked=h[4].destacado),(!z||I[0]&4096)&&$(ke,"disabled",h[12]),I[0]&17&&(ke.checked=h[4].activo),(!z||I[0]&4096)&&$(ce,"disabled",h[12]);let Je=ue;ue=Uo(h),ue===Je?Xe[ue].p(h,I):(no(),me(Xe[Je],1,1,()=>{Xe[Je]=null}),ao(),fe=Xe[ue],fe?fe.p(h,I):(fe=Xe[ue]=To[ue](h),fe.c()),_e(fe,1),fe.m(ye,null)),(!z||I[0]&12288&&kt!==(kt=!h[13]||h[12]))&&$(ye,"disabled",kt),h[13]?X&&(X.d(1),X=null):X?X.p(h,I):(X=ho(h),X.c(),X.m(e,null))},i:function(h){z||(_e(m),_e(x),_e(ge.$$.fragment,h),_e(Qe.$$.fragment,h),_e(fe),z=!0)},o:function(h){me(m),me(x),me(ge.$$.fragment,h),me(Qe.$$.fragment,h),me(fe),z=!1},d:function(h){h&&v(e),q&&q.d(),G&&G.d(),Y&&Y.d(),qe[O].d(),Ge[J].d(),Z&&Z.d(),rt(ge),rt(Qe),Xe[ue].d(),X&&X.d(),eo=!1,il(Bo)}};return F("SvelteRegisterBlock",{block:Oo,id:ko.name,type:"component",source:"",ctx:o}),Oo}function ml(o,e,t){let a,n,l,r,u,{$$slots:c={},$$scope:C}=e;rl("ProductForm",c,[]);const k=Mo();let{producto:d=null}=e,{categorias:P=[]}=e,{marcas:w=[]}=e,{disabled:E=!1}=e,S=!1,y=!1,L=!1,N="",ne="",O="",m={nombre:"",descripcion_corta:"",descripcion_larga:"",precio:"",precio_oferta:"",stock:"",categoria_id:null,marca_id:null,imagen_url:"",destacado:!1,activo:!0,slug:"",sku:""};zo(async()=>{var f,T,Ie;P.length===0&&await He(),w.length===0&&await ae(),d&&(t(4,m={id:d.id,nombre:d.nombre||"",descripcion_corta:d.descripcion_corta||"",descripcion_larga:d.descripcion_larga||"",precio:((f=d.precio)==null?void 0:f.toString())||"",precio_oferta:((T=d.precio_oferta)==null?void 0:T.toString())||"",stock:((Ie=d.stock)==null?void 0:Ie.toString())||"",categoria_id:d.categoria_id||null,marca_id:d.marca_id||null,imagen_url:d.imagen_url||"",destacado:!!d.destacado,activo:d.activo!==!1,slug:d.slug||"",sku:d.sku||""}),t(21,O=d.imagen_url||""),console.log("üìù Producto cargado:",{categoria_id:m.categoria_id,marca_id:m.marca_id}))});async function He(){try{t(8,y=!0);const T=await(await fetch("/api/categorias?activas=true")).json();T.success&&(t(0,P=T.data),console.log("üìÇ Categor√≠as cargadas:",P.length))}catch(f){console.error("Error cargando categor√≠as:",f)}finally{t(8,y=!1)}}async function ae(){try{t(9,L=!0);const T=await(await fetch("/api/marcas?activas=true")).json();T.success&&(t(1,w=T.data),console.log("üè∑Ô∏è Marcas cargadas:",w.length))}catch(f){console.error("Error cargando marcas:",f)}finally{t(9,L=!1)}}function re(f){const T=f.target.value;t(4,m.categoria_id=T===""?null:T,m),console.log("üìÇ Categor√≠a seleccionada:",m.categoria_id)}function ut(f){const T=f.target.value;t(4,m.marca_id=T===""?null:T,m),console.log("üè∑Ô∏è Marca seleccionada:",m.marca_id)}async function We(){var f,T,Ie,le,ie;if(!(!r||u)){t(10,N=""),t(11,ne=""),t(3,S=!0);try{if(!m.categoria_id)throw new Error("Debe seleccionar una categor√≠a");const Ve={nombre:m.nombre.trim(),descripcion_corta:((f=m.descripcion_corta)==null?void 0:f.trim())||null,descripcion_larga:((T=m.descripcion_larga)==null?void 0:T.trim())||null,precio:parseFloat(m.precio),precio_oferta:m.precio_oferta&&m.precio_oferta!==""?parseFloat(m.precio_oferta):null,stock:m.stock&&m.stock!==""?parseInt(m.stock):null,categoria_id:m.categoria_id,marca_id:m.marca_id||null,imagen_url:((Ie=m.imagen_url)==null?void 0:Ie.trim())||null,destacado:m.destacado,activo:m.activo,slug:((le=m.slug)==null?void 0:le.trim())||null,sku:((ie=m.sku)==null?void 0:ie.trim())||null};d&&(Ve.id=d.id),console.log("üì§ Enviando:",Ve);const se=await fetch("/api/productos",{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!se.ok){const pt=await se.json();throw new Error(pt.error||"Error al guardar el producto")}const _t=await se.json();console.log("üì• Respuesta:",_t),t(11,ne=d?"‚úÖ Producto actualizado correctamente":"‚úÖ Producto creado correctamente"),d||(t(4,m={nombre:"",descripcion_corta:"",descripcion_larga:"",precio:"",precio_oferta:"",stock:"",categoria_id:null,marca_id:null,imagen_url:"",destacado:!1,activo:!0,slug:"",sku:""}),t(21,O="")),setTimeout(()=>{k("success",_t)},1e3)}catch(Ve){console.error("‚ùå Error:",Ve),t(10,N=Ve.message)}finally{t(3,S=!1)}}}function J(){k("cancel")}function x(f){const{url:T}=f.detail;t(4,m.imagen_url=T,m),t(21,O=T)}function $e(){t(4,m.imagen_url="",m),t(21,O="")}const oe=["producto","categorias","marcas","disabled"];Object.keys(e).forEach(f=>{!~oe.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&dl.warn(`<ProductForm> was created with unknown prop '${f}'`)});function pe(){m.nombre=this.value,t(4,m),t(0,P)}function ft(){m.precio=at(this.value),t(4,m),t(0,P)}function Ce(){m.precio_oferta=at(this.value),t(4,m),t(0,P)}function gt(){m.stock=at(this.value),t(4,m),t(0,P)}function dt(f){o.$$.not_equal(m.imagen_url,f)&&(m.imagen_url=f,t(4,m))}function he(){m.descripcion_corta=this.value,t(4,m),t(0,P)}function we(){m.descripcion_larga=this.value,t(4,m),t(0,P)}function bt(){m.destacado=this.checked,t(4,m),t(0,P)}function mt(){m.activo=this.checked,t(4,m),t(0,P)}return o.$$set=f=>{"producto"in f&&t(2,d=f.producto),"categorias"in f&&t(0,P=f.categorias),"marcas"in f&&t(1,w=f.marcas),"disabled"in f&&t(20,E=f.disabled)},o.$capture_state=()=>({onMount:zo,createEventDispatcher:Mo,Save:Ko,X:xo,Loader2:At,Upload:fl,ImageUploader:Jo,dispatch:k,producto:d,categorias:P,marcas:w,disabled:E,loading:S,loadingCategorias:y,loadingMarcas:L,error:N,success:ne,imagePreview:O,formData:m,cargarCategorias:He,cargarMarcas:ae,handleCategoriaChange:re,handleMarcaChange:ut,handleSubmit:We,handleCancel:J,handleImageUpload:x,handleImageRemove:$e,isDisabled:u,formularioValido:r,categoriaValida:l,precioValido:n,nombreValido:a}),o.$inject_state=f=>{"producto"in f&&t(2,d=f.producto),"categorias"in f&&t(0,P=f.categorias),"marcas"in f&&t(1,w=f.marcas),"disabled"in f&&t(20,E=f.disabled),"loading"in f&&t(3,S=f.loading),"loadingCategorias"in f&&t(8,y=f.loadingCategorias),"loadingMarcas"in f&&t(9,L=f.loadingMarcas),"error"in f&&t(10,N=f.error),"success"in f&&t(11,ne=f.success),"imagePreview"in f&&t(21,O=f.imagePreview),"formData"in f&&t(4,m=f.formData),"isDisabled"in f&&t(12,u=f.isDisabled),"formularioValido"in f&&t(13,r=f.formularioValido),"categoriaValida"in f&&t(5,l=f.categoriaValida),"precioValido"in f&&t(6,n=f.precioValido),"nombreValido"in f&&t(7,a=f.nombreValido)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty[0]&16&&t(7,a=m.nombre.trim().length>0),o.$$.dirty[0]&16&&t(6,n=m.precio&&!isNaN(parseFloat(m.precio))&&parseFloat(m.precio)>=0),o.$$.dirty[0]&16&&t(5,l=m.categoria_id!==null&&m.categoria_id!==""),o.$$.dirty[0]&224&&t(13,r=a&&n&&l),o.$$.dirty[0]&1048584&&t(12,u=E||S),o.$$.dirty[0]&2097168&&m.imagen_url&&m.imagen_url!==O&&t(21,O=m.imagen_url)},[P,w,d,S,m,l,n,a,y,L,N,ne,u,r,re,ut,We,J,x,$e,E,O,pe,ft,Ce,gt,dt,he,we,bt,mt]}class yl extends tl{constructor(e){super(e),ol(this,e,ml,ko,ll,{producto:2,categorias:0,marcas:1,disabled:20},null,[-1,-1]),F("SvelteRegisterComponent",{component:this,tagName:"ProductForm",options:e,id:ko.name})}get producto(){throw new xe("<ProductForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set producto(e){throw new xe("<ProductForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get categorias(){throw new xe("<ProductForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set categorias(e){throw new xe("<ProductForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get marcas(){throw new xe("<ProductForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set marcas(e){throw new xe("<ProductForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get disabled(){throw new xe("<ProductForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set disabled(e){throw new xe("<ProductForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{yl as P};

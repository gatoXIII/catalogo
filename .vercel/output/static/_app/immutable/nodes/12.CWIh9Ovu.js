import{S as Wt,i as Yt,d as ke,s as Zt,L as We,n as mt,a as $t,F as Ot,b as c,M as Bt,O as ft,P as Le,Q as ut,G as e,e as pe,f as ge,g as o,R as Be,h as n,T as Lt,H as eo,m as w,j as d,k as h,I as ue,J as he,l as Q,U as zt,p as E,o as f,K as ve,t as W,V as Ut,X as to,W as dt}from"../chunks/VwrJ_jBZ.js";import{g as oo}from"../chunks/D0QH3NT1.js";import"../chunks/ClsFpFEz.js";import{g as lo}from"../chunks/6uIGZX0H.js";const{console:so}=oo,i="C:/SERVER/SVELTE/tienda/src/routes/(admin)/productos/+page.svelte";function qt(s,t,l){const r=s.slice();return r[27]=t[l],r}function Ft(s,t,l){const r=s.slice();return r[27]=t[l],r}function Gt(s,t,l){const r=s.slice();return r[32]=t[l],r}function _t(s){let t,l;const r={c:function(){t=f("div"),l=W(s[6]),this.h()},l:function(a){t=d(a,"DIV",{class:!0});var v=h(t);l=Q(v,s[6]),v.forEach(c),this.h()},h:function(){e(t,"class","mb-4 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg"),n(t,i,175,4,4733)},m:function(a,v){ge(a,t,v),o(t,l)},p:function(a,v){v[0]&64&&pe(l,a[6])},d:function(a){a&&c(t)}};return ke("SvelteRegisterBlock",{block:r,id:_t.name,type:"if",source:"(175:2) {#if error}",ctx:s}),r}function pt(s){let t,l;const r={c:function(){t=f("div"),l=W(s[7]),this.h()},l:function(a){t=d(a,"DIV",{class:!0});var v=h(t);l=Q(v,s[7]),v.forEach(c),this.h()},h:function(){e(t,"class","mb-4 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg"),n(t,i,181,4,4880)},m:function(a,v){ge(a,t,v),o(t,l)},p:function(a,v){v[0]&128&&pe(l,a[7])},d:function(a){a&&c(t)}};return ke("SvelteRegisterBlock",{block:r,id:pt.name,type:"if",source:"(181:2) {#if success}",ctx:s}),r}function bt(s){let t,l=s[32].nombre+"",r,g;const a={c:function(){t=f("option"),r=W(l),this.h()},l:function(p){t=d(p,"OPTION",{});var u=h(t);r=Q(u,l),u.forEach(c),this.h()},h:function(){t.__value=g=s[32].id,Le(t,t.__value),n(t,i,220,12,6512)},m:function(p,u){ge(p,t,u),o(t,r)},p:function(p,u){u[0]&16&&l!==(l=p[32].nombre+"")&&pe(r,l),u[0]&16&&g!==(g=p[32].id)&&(to(t,"__value",g),Le(t,t.__value))},d:function(p){p&&c(t)}};return ke("SvelteRegisterBlock",{block:a,id:bt.name,type:"each",source:"(220:10) {#each categorias as cat}",ctx:s}),a}function Kt(s){let t,l=We(s[11]),r=[];for(let a=0;a<l.length;a+=1)r[a]=Et(qt(s,l,a));const g={c:function(){t=f("div");for(let v=0;v<r.length;v+=1)r[v].c();this.h()},l:function(v){t=d(v,"DIV",{class:!0});var p=h(t);for(let u=0;u<r.length;u+=1)r[u].l(p);p.forEach(c),this.h()},h:function(){e(t,"class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6"),n(t,i,395,4,15434)},m:function(v,p){ge(v,t,p);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null)},p:function(v,p){if(p[0]&18432){l=We(v[11]);let u;for(u=0;u<l.length;u+=1){const m=qt(v,l,u);r[u]?r[u].p(m,p):(r[u]=Et(m),r[u].c(),r[u].m(t,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=l.length}},d:function(v){v&&c(t),Bt(r,v)}};return ke("SvelteRegisterBlock",{block:g,id:Kt.name,type:"else",source:"(394:2) {:else}",ctx:s}),g}function Xt(s){let t,l,r,g,a,v,p="Producto",u,m,D="Categoría",B,k,V="Precio",q,I,L="Stock",z,R,y="Estado",x,j,ae="Acciones",ne,S,T=We(s[11]),P=[];for(let H=0;H<T.length;H+=1)P[H]=It(Ft(s,T,H));const K={c:function(){t=f("div"),l=f("div"),r=f("table"),g=f("thead"),a=f("tr"),v=f("th"),v.textContent=p,u=E(),m=f("th"),m.textContent=D,B=E(),k=f("th"),k.textContent=V,q=E(),I=f("th"),I.textContent=L,z=E(),R=f("th"),R.textContent=y,x=E(),j=f("th"),j.textContent=ae,ne=E(),S=f("tbody");for(let G=0;G<P.length;G+=1)P[G].c();this.h()},l:function(G){t=d(G,"DIV",{class:!0});var F=h(t);l=d(F,"DIV",{class:!0});var C=h(l);r=d(C,"TABLE",{class:!0});var J=h(r);g=d(J,"THEAD",{class:!0});var _=h(g);a=d(_,"TR",{});var b=h(a);v=d(b,"TH",{class:!0,"data-svelte-h":!0}),ue(v)!=="svelte-p9b26u"&&(v.textContent=p),u=w(b),m=d(b,"TH",{class:!0,"data-svelte-h":!0}),ue(m)!=="svelte-i9st6f"&&(m.textContent=D),B=w(b),k=d(b,"TH",{class:!0,"data-svelte-h":!0}),ue(k)!=="svelte-cgqtq0"&&(k.textContent=V),q=w(b),I=d(b,"TH",{class:!0,"data-svelte-h":!0}),ue(I)!=="svelte-1fy31di"&&(I.textContent=L),z=w(b),R=d(b,"TH",{class:!0,"data-svelte-h":!0}),ue(R)!=="svelte-1fh1tch"&&(R.textContent=y),x=w(b),j=d(b,"TH",{class:!0,"data-svelte-h":!0}),ue(j)!=="svelte-12cjyky"&&(j.textContent=ae),b.forEach(c),_.forEach(c),ne=w(J),S=d(J,"TBODY",{class:!0});var N=h(S);for(let $=0;$<P.length;$+=1)P[$].l(N);N.forEach(c),J.forEach(c),C.forEach(c),F.forEach(c),this.h()},h:function(){e(v,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(v,i,304,14,10563),e(m,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell"),n(m,i,307,14,10717),e(k,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(k,i,310,14,10893),e(I,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell"),n(I,i,313,14,11045),e(R,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell"),n(R,i,316,14,11217),e(j,"class","px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"),n(j,i,319,14,11390),n(a,i,303,12,10543),e(g,"class","bg-gray-50"),n(g,i,302,10,10503),e(S,"class","bg-white divide-y divide-gray-200"),n(S,i,324,10,11580),e(r,"class","min-w-full divide-y divide-gray-200"),n(r,i,301,8,10440),e(l,"class","overflow-x-auto"),n(l,i,300,6,10401),e(t,"class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"),n(t,i,299,4,10311)},m:function(G,F){ge(G,t,F),o(t,l),o(l,r),o(r,g),o(g,a),o(a,v),o(a,u),o(a,m),o(a,B),o(a,k),o(a,q),o(a,I),o(a,z),o(a,R),o(a,x),o(a,j),o(r,ne),o(r,S);for(let C=0;C<P.length;C+=1)P[C]&&P[C].m(S,null)},p:function(G,F){if(F[0]&22528){T=We(G[11]);let C;for(C=0;C<T.length;C+=1){const J=Ft(G,T,C);P[C]?P[C].p(J,F):(P[C]=It(J),P[C].c(),P[C].m(S,null))}for(;C<P.length;C+=1)P[C].d(1);P.length=T.length}},d:function(G){G&&c(t),Bt(P,G)}};return ke("SvelteRegisterBlock",{block:K,id:Xt.name,type:"if",source:"(298:33) ",ctx:s}),K}function Jt(s){let t,l,r,g,a,v="No hay productos",p,u,m=s[0].length===0?"Comienza creando tu primer producto":"No se encontraron productos con los filtros aplicados",D,B,k,V,q,I,L;const z={c:function(){t=f("div"),l=ve("svg"),r=ve("path"),g=E(),a=f("h3"),a.textContent=v,p=E(),u=f("p"),D=W(m),B=E(),k=f("div"),V=f("a"),q=ve("svg"),I=ve("path"),L=W(`\r
          Nuevo Producto`),this.h()},l:function(y){t=d(y,"DIV",{class:!0});var x=h(t);l=he(x,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var j=h(l);r=he(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),j.forEach(c),g=w(x),a=d(x,"H3",{class:!0,"data-svelte-h":!0}),ue(a)!=="svelte-eyrcmh"&&(a.textContent=v),p=w(x),u=d(x,"P",{class:!0});var ae=h(u);D=Q(ae,m),ae.forEach(c),B=w(x),k=d(x,"DIV",{class:!0});var ne=h(k);V=d(ne,"A",{href:!0,class:!0});var S=h(V);q=he(S,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var T=h(q);I=he(T,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(I).forEach(c),T.forEach(c),L=Q(S,`\r
          Nuevo Producto`),S.forEach(c),ne.forEach(c),x.forEach(c),this.h()},h:function(){e(r,"stroke-linecap","round"),e(r,"stroke-linejoin","round"),e(r,"stroke-width","2"),e(r,"d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"),n(r,i,279,8,9200),e(l,"class","mx-auto h-12 w-12 text-gray-400"),e(l,"fill","none"),e(l,"stroke","currentColor"),e(l,"viewBox","0 0 24 24"),n(l,i,278,6,9091),e(a,"class","mt-2 text-sm font-medium text-gray-900"),n(a,i,281,6,9493),e(u,"class","mt-1 text-sm text-gray-500"),n(u,i,282,6,9573),e(I,"stroke-linecap","round"),e(I,"stroke-linejoin","round"),e(I,"stroke-width","2"),e(I,"d","M12 4v16m8-8H4"),n(I,i,291,12,10067),e(q,"class","w-5 h-5 mr-2"),e(q,"fill","none"),e(q,"stroke","currentColor"),e(q,"viewBox","0 0 24 24"),n(q,i,290,10,9973),e(V,"href","/productos/nuevo"),e(V,"class","inline-flex items-center px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700"),n(V,i,286,8,9791),e(k,"class","mt-6"),n(k,i,285,6,9763),e(t,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"),n(t,i,277,4,9e3)},m:function(y,x){ge(y,t,x),o(t,l),o(l,r),o(t,g),o(t,a),o(t,p),o(t,u),o(u,D),o(t,B),o(t,k),o(k,V),o(V,q),o(q,I),o(V,L)},p:function(y,x){x[0]&1&&m!==(m=y[0].length===0?"Comienza creando tu primer producto":"No se encontraron productos con los filtros aplicados")&&pe(D,m)},d:function(y){y&&c(t)}};return ke("SvelteRegisterBlock",{block:z,id:Jt.name,type:"if",source:"(277:44) ",ctx:s}),z}function Qt(s){let t,l;const r={c:function(){t=f("div"),l=f("div"),this.h()},l:function(a){t=d(a,"DIV",{class:!0});var v=h(t);l=d(v,"DIV",{class:!0}),h(l).forEach(c),v.forEach(c),this.h()},h:function(){e(l,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"),n(l,i,274,6,8852),e(t,"class","flex items-center justify-center py-12"),n(t,i,273,4,8792)},m:function(a,v){ge(a,t,v),o(t,l)},p:mt,d:function(a){a&&c(t)}};return ke("SvelteRegisterBlock",{block:r,id:Qt.name,type:"if",source:"(273:2) {#if loading}",ctx:s}),r}function kt(s){let t,l="⭐ Destacado";const r={c:function(){t=f("span"),t.textContent=l,this.h()},l:function(a){t=d(a,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-2gohr8"&&(t.textContent=l),this.h()},h:function(){e(t,"class","absolute top-2 left-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-semibold"),n(t,i,406,14,16135)},m:function(a,v){ge(a,t,v)},d:function(a){a&&c(t)}};return ke("SvelteRegisterBlock",{block:r,id:kt.name,type:"if",source:"(406:12) {#if producto.destacado}",ctx:s}),r}function yt(s){let t,l="Inactivo";const r={c:function(){t=f("span"),t.textContent=l,this.h()},l:function(a){t=d(a,"SPAN",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1s6j0hs"&&(t.textContent=l),this.h()},h:function(){e(t,"class","absolute top-2 right-2 bg-gray-800 text-white px-2 py-1 rounded-full text-xs font-semibold"),n(t,i,411,14,16369)},m:function(a,v){ge(a,t,v)},d:function(a){a&&c(t)}};return ke("SvelteRegisterBlock",{block:r,id:yt.name,type:"if",source:"(411:12) {#if !producto.activo}",ctx:s}),r}function xt(s){let t,l,r=s[27].descuento+"",g,a;const v={c:function(){t=f("span"),l=W("-"),g=W(r),a=W("%"),this.h()},l:function(u){t=d(u,"SPAN",{class:!0});var m=h(t);l=Q(m,"-"),g=Q(m,r),a=Q(m,"%"),m.forEach(c),this.h()},h:function(){e(t,"class","text-sm text-green-600 font-medium"),n(t,i,427,16,17099)},m:function(u,m){ge(u,t,m),o(t,l),o(t,g),o(t,a)},p:function(u,m){m[0]&2048&&r!==(r=u[27].descuento+"")&&pe(g,r)},d:function(u){u&&c(t)}};return ke("SvelteRegisterBlock",{block:v,id:xt.name,type:"if",source:"(427:14) {#if producto.descuento}",ctx:s}),v}function wt(s){let t,l,r,g=s[27].stock+"",a;const v={c:function(){t=f("div"),l=W("Stock: "),r=f("span"),a=W(g),this.h()},l:function(u){t=d(u,"DIV",{class:!0});var m=h(t);l=Q(m,"Stock: "),r=d(m,"SPAN",{class:!0});var D=h(r);a=Q(D,g),D.forEach(c),m.forEach(c),this.h()},h:function(){e(r,"class","font-medium"),n(r,i,433,23,17356),e(t,"class","text-sm text-gray-600 mb-3"),n(t,i,432,14,17291)},m:function(u,m){ge(u,t,m),o(t,l),o(t,r),o(r,a)},p:function(u,m){m[0]&2048&&g!==(g=u[27].stock+"")&&pe(a,g)},d:function(u){u&&c(t)}};return ke("SvelteRegisterBlock",{block:v,id:wt.name,type:"if",source:"(432:12) {#if producto.stock !== null}",ctx:s}),v}function Et(s){var te;let t,l,r,g,a,v,p,u,m,D,B,k=(((te=s[27].categoria)==null?void 0:te.nombre)||"Sin categoría")+"",V,q,I,L=s[27].nombre+"",z,R,y,x,j=Ze(s[27].precio)+"",ae,ne,S,T,P,K,H,G,F,C,J,_,b,N,$,M=s[27].destacado&&kt(s),O=!s[27].activo&&yt(s),U=s[27].descuento&&xt(s),ee=s[27].stock!==null&&wt(s);function je(){return s[22](s[27])}const Y={c:function(){t=f("div"),l=f("div"),r=f("img"),v=E(),M&&M.c(),p=E(),O&&O.c(),u=E(),m=f("div"),D=f("div"),B=f("span"),V=W(k),q=E(),I=f("h3"),z=W(L),R=E(),y=f("div"),x=f("span"),ae=W(j),ne=E(),U&&U.c(),S=E(),ee&&ee.c(),T=E(),P=f("div"),K=f("a"),H=W("Editar"),F=E(),C=f("button"),J=ve("svg"),_=ve("path"),b=E(),this.h()},l:function(se){t=d(se,"DIV",{class:!0});var re=h(t);l=d(re,"DIV",{class:!0});var oe=h(l);r=d(oe,"IMG",{src:!0,alt:!0,class:!0}),v=w(oe),M&&M.l(oe),p=w(oe),O&&O.l(oe),oe.forEach(c),u=w(re),m=d(re,"DIV",{class:!0});var Z=h(m);D=d(Z,"DIV",{class:!0});var ie=h(D);B=d(ie,"SPAN",{class:!0});var Ie=h(B);V=Q(Ie,k),Ie.forEach(c),ie.forEach(c),q=w(Z),I=d(Z,"H3",{class:!0});var Te=h(I);z=Q(Te,L),Te.forEach(c),R=w(Z),y=d(Z,"DIV",{class:!0});var be=h(y);x=d(be,"SPAN",{class:!0});var xe=h(x);ae=Q(xe,j),xe.forEach(c),ne=w(be),U&&U.l(be),be.forEach(c),S=w(Z),ee&&ee.l(Z),T=w(Z),P=d(Z,"DIV",{class:!0});var de=h(P);K=d(de,"A",{href:!0,class:!0});var Ce=h(K);H=Q(Ce,"Editar"),Ce.forEach(c),F=w(de),C=d(de,"BUTTON",{class:!0});var X=h(C);J=he(X,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var me=h(J);_=he(me,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(_).forEach(c),me.forEach(c),X.forEach(c),de.forEach(c),Z.forEach(c),b=w(re),re.forEach(c),this.h()},h:function(){dt(r.src,g=s[27].imagen_url||"https://via.placeholder.com/300?text=Sin+Imagen")||e(r,"src",g),e(r,"alt",a=s[27].nombre),e(r,"class","w-full h-full object-cover"),n(r,i,399,12,15786),e(l,"class","aspect-square relative overflow-hidden bg-gray-100"),n(l,i,398,10,15708),e(B,"class","text-xs text-gray-500"),n(B,i,419,14,16649),e(D,"class","mb-2"),n(D,i,418,12,16615),e(I,"class","font-semibold text-gray-900 mb-2 line-clamp-2"),n(I,i,422,12,16787),e(x,"class","text-lg font-bold text-gray-900"),n(x,i,425,14,16955),e(y,"class","flex items-baseline gap-2 mb-3"),n(y,i,424,12,16895),e(K,"href",G="/productos/"+s[27].id+"/editar"),e(K,"class","flex-1 px-3 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors text-center"),n(K,i,438,14,17544),e(_,"stroke-linecap","round"),e(_,"stroke-linejoin","round"),e(_,"stroke-width","2"),e(_,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),n(_,i,449,18,18150),e(J,"class","w-5 h-5"),e(J,"fill","none"),e(J,"stroke","currentColor"),e(J,"viewBox","0 0 24 24"),n(J,i,448,16,18055),e(C,"class","px-3 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"),n(C,i,444,14,17831),e(P,"class","flex gap-2 pt-3 border-t border-gray-200"),n(P,i,437,12,17474),e(m,"class","p-4"),n(m,i,417,10,16584),e(t,"class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow"),n(t,i,397,8,15580)},m:function(se,re){ge(se,t,re),o(t,l),o(l,r),o(l,v),M&&M.m(l,null),o(l,p),O&&O.m(l,null),o(t,u),o(t,m),o(m,D),o(D,B),o(B,V),o(m,q),o(m,I),o(I,z),o(m,R),o(m,y),o(y,x),o(x,ae),o(y,ne),U&&U.m(y,null),o(m,S),ee&&ee.m(m,null),o(m,T),o(m,P),o(P,K),o(K,H),o(P,F),o(P,C),o(C,J),o(J,_),o(t,b),N||($=[Be(r,"error",ao,!1,!1,!1,!1),Be(C,"click",je,!1,!1,!1,!1)],N=!0)},p:function(se,re){var oe;s=se,re[0]&2048&&!dt(r.src,g=s[27].imagen_url||"https://via.placeholder.com/300?text=Sin+Imagen")&&e(r,"src",g),re[0]&2048&&a!==(a=s[27].nombre)&&e(r,"alt",a),s[27].destacado?M||(M=kt(s),M.c(),M.m(l,p)):M&&(M.d(1),M=null),s[27].activo?O&&(O.d(1),O=null):O||(O=yt(s),O.c(),O.m(l,null)),re[0]&2048&&k!==(k=(((oe=s[27].categoria)==null?void 0:oe.nombre)||"Sin categoría")+"")&&pe(V,k),re[0]&2048&&L!==(L=s[27].nombre+"")&&pe(z,L),re[0]&2048&&j!==(j=Ze(s[27].precio)+"")&&pe(ae,j),s[27].descuento?U?U.p(s,re):(U=xt(s),U.c(),U.m(y,null)):U&&(U.d(1),U=null),s[27].stock!==null?ee?ee.p(s,re):(ee=wt(s),ee.c(),ee.m(m,T)):ee&&(ee.d(1),ee=null),re[0]&2048&&G!==(G="/productos/"+s[27].id+"/editar")&&e(K,"href",G)},d:function(se){se&&c(t),M&&M.d(),O&&O.d(),U&&U.d(),ee&&ee.d(),N=!1,ft($)}};return ke("SvelteRegisterBlock",{block:Y,id:Et.name,type:"each",source:"(397:6) {#each productosFiltrados as producto}",ctx:s}),Y}function Ct(s){let t,l,r=s[27].sku+"",g;const a={c:function(){t=f("div"),l=W("SKU: "),g=W(r),this.h()},l:function(p){t=d(p,"DIV",{class:!0});var u=h(t);l=Q(u,"SKU: "),g=Q(u,r),u.forEach(c),this.h()},h:function(){e(t,"class","text-sm text-gray-500"),n(t,i,340,24,12500)},m:function(p,u){ge(p,t,u),o(t,l),o(t,g)},p:function(p,u){u[0]&2048&&r!==(r=p[27].sku+"")&&pe(g,r)},d:function(p){p&&c(t)}};return ke("SvelteRegisterBlock",{block:a,id:Ct.name,type:"if",source:"(340:22) {#if producto.sku}",ctx:s}),a}function Dt(s){let t,l,r=s[27].descuento+"",g,a;const v={c:function(){t=f("div"),l=W("-"),g=W(r),a=W("%"),this.h()},l:function(u){t=d(u,"DIV",{class:!0});var m=h(t);l=Q(m,"-"),g=Q(m,r),a=Q(m,"%"),m.forEach(c),this.h()},h:function(){e(t,"class","text-xs text-green-600"),n(t,i,351,20,13089)},m:function(u,m){ge(u,t,m),o(t,l),o(t,g),o(t,a)},p:function(u,m){m[0]&2048&&r!==(r=u[27].descuento+"")&&pe(g,r)},d:function(u){u&&c(t)}};return ke("SvelteRegisterBlock",{block:v,id:Dt.name,type:"if",source:"(351:18) {#if producto.descuento}",ctx:s}),v}function It(s){var xe;let t,l,r,g,a,v,p,u,m,D,B=s[27].nombre+"",k,V,q,I,L=(((xe=s[27].categoria)==null?void 0:xe.nombre)||"Sin categoría")+"",z,R,y,x,j=Ze(s[27].precio)+"",ae,ne,S,T,P=(s[27].stock!==null?s[27].stock:"N/A")+"",K,H,G,F,C=s[27].activo?"Activo":"Inactivo",J,_,b,N,$,M,O,U,ee,je,Y,te,ce,se,re,oe,Z=s[27].sku&&Ct(s),ie=s[27].descuento&&Dt(s);function Ie(){return s[20](s[27])}function Te(){return s[21](s[27])}const be={c:function(){t=f("tr"),l=f("td"),r=f("div"),g=f("div"),a=f("img"),u=E(),m=f("div"),D=f("div"),k=W(B),V=E(),Z&&Z.c(),q=E(),I=f("td"),z=W(L),R=E(),y=f("td"),x=f("div"),ae=W(j),ne=E(),ie&&ie.c(),S=E(),T=f("td"),K=W(P),H=E(),G=f("td"),F=f("button"),J=W(C),b=E(),N=f("td"),$=f("div"),M=f("a"),O=ve("svg"),U=ve("path"),je=E(),Y=f("button"),te=ve("svg"),ce=ve("path"),se=E(),this.h()},l:function(Ce){t=d(Ce,"TR",{class:!0});var X=h(t);l=d(X,"TD",{class:!0});var me=h(l);r=d(me,"DIV",{class:!0});var De=h(r);g=d(De,"DIV",{class:!0});var Se=h(g);a=d(Se,"IMG",{class:!0,src:!0,alt:!0}),Se.forEach(c),u=w(De),m=d(De,"DIV",{class:!0});var Ae=h(m);D=d(Ae,"DIV",{class:!0});var Fe=h(D);k=Q(Fe,B),Fe.forEach(c),V=w(Ae),Z&&Z.l(Ae),Ae.forEach(c),De.forEach(c),me.forEach(c),q=w(X),I=d(X,"TD",{class:!0});var Pe=h(I);z=Q(Pe,L),Pe.forEach(c),R=w(X),y=d(X,"TD",{class:!0});var Me=h(y);x=d(Me,"DIV",{class:!0});var ze=h(x);ae=Q(ze,j),ze.forEach(c),ne=w(Me),ie&&ie.l(Me),Me.forEach(c),S=w(X),T=d(X,"TD",{class:!0});var Ge=h(T);K=Q(Ge,P),Ge.forEach(c),H=w(X),G=d(X,"TD",{class:!0});var Oe=h(G);F=d(Oe,"BUTTON",{class:!0});var Ue=h(F);J=Q(Ue,C),Ue.forEach(c),Oe.forEach(c),b=w(X),N=d(X,"TD",{class:!0});var Ke=h(N);$=d(Ke,"DIV",{class:!0});var Re=h($);M=d(Re,"A",{href:!0,class:!0,title:!0});var He=h(M);O=he(He,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Xe=h(O);U=he(Xe,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(U).forEach(c),Xe.forEach(c),He.forEach(c),je=w(Re),Y=d(Re,"BUTTON",{class:!0,title:!0});var Ye=h(Y);te=he(Ye,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var _e=h(te);ce=he(_e,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(ce).forEach(c),_e.forEach(c),Ye.forEach(c),Re.forEach(c),Ke.forEach(c),se=w(X),X.forEach(c),this.h()},h:function(){e(a,"class","h-10 w-10 rounded-lg object-cover"),dt(a.src,v=s[27].imagen_url||"https://via.placeholder.com/150?text=Sin+Imagen")||e(a,"src",v),e(a,"alt",p=s[27].nombre),n(a,i,330,22,11918),e(g,"class","h-10 w-10 flex-shrink-0"),n(g,i,329,20,11857),e(D,"class","text-sm font-medium text-gray-900"),n(D,i,338,22,12362),e(m,"class","ml-4"),n(m,i,337,20,12320),e(r,"class","flex items-center"),n(r,i,328,18,11804),e(l,"class","px-6 py-4"),n(l,i,327,16,11762),e(I,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden md:table-cell"),n(I,i,345,16,12684),e(x,"class","text-sm font-semibold text-gray-900"),n(x,i,349,18,12935),e(y,"class","px-6 py-4 whitespace-nowrap"),n(y,i,348,16,12875),e(T,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden lg:table-cell"),n(T,i,354,16,13219),e(F,"class",_="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(s[27].activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")),n(F,i,358,18,13494),e(G,"class","px-6 py-4 whitespace-nowrap hidden sm:table-cell"),n(G,i,357,16,13413),e(U,"stroke-linecap","round"),e(U,"stroke-linejoin","round"),e(U,"stroke-width","2"),e(U,"d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"),n(U,i,373,24,14373),e(O,"class","w-5 h-5"),e(O,"fill","none"),e(O,"stroke","currentColor"),e(O,"viewBox","0 0 24 24"),n(O,i,372,22,14272),e(M,"href",ee="/productos/"+s[27].id+"/editar"),e(M,"class","text-indigo-600 hover:text-indigo-900"),e(M,"title","Editar"),n(M,i,367,20,14054),e(ce,"stroke-linecap","round"),e(ce,"stroke-linejoin","round"),e(ce,"stroke-width","2"),e(ce,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),n(ce,i,382,24,14967),e(te,"class","w-5 h-5"),e(te,"fill","none"),e(te,"stroke","currentColor"),e(te,"viewBox","0 0 24 24"),n(te,i,381,22,14866),e(Y,"class","text-red-600 hover:text-red-900"),e(Y,"title","Eliminar"),n(Y,i,376,20,14645),e($,"class","flex items-center justify-end gap-2"),n($,i,366,18,13983),e(N,"class","px-6 py-4 whitespace-nowrap text-right text-sm font-medium"),n(N,i,365,16,13892),e(t,"class","hover:bg-gray-50 transition-colors"),n(t,i,326,14,11697)},m:function(Ce,X){ge(Ce,t,X),o(t,l),o(l,r),o(r,g),o(g,a),o(r,u),o(r,m),o(m,D),o(D,k),o(m,V),Z&&Z.m(m,null),o(t,q),o(t,I),o(I,z),o(t,R),o(t,y),o(y,x),o(x,ae),o(y,ne),ie&&ie.m(y,null),o(t,S),o(t,T),o(T,K),o(t,H),o(t,G),o(G,F),o(F,J),o(t,b),o(t,N),o(N,$),o($,M),o(M,O),o(O,U),o($,je),o($,Y),o(Y,te),o(te,ce),o(t,se),re||(oe=[Be(a,"error",ro,!1,!1,!1,!1),Be(F,"click",Ie,!1,!1,!1,!1),Be(Y,"click",Te,!1,!1,!1,!1)],re=!0)},p:function(Ce,X){var me;s=Ce,X[0]&2048&&!dt(a.src,v=s[27].imagen_url||"https://via.placeholder.com/150?text=Sin+Imagen")&&e(a,"src",v),X[0]&2048&&p!==(p=s[27].nombre)&&e(a,"alt",p),X[0]&2048&&B!==(B=s[27].nombre+"")&&pe(k,B),s[27].sku?Z?Z.p(s,X):(Z=Ct(s),Z.c(),Z.m(m,null)):Z&&(Z.d(1),Z=null),X[0]&2048&&L!==(L=(((me=s[27].categoria)==null?void 0:me.nombre)||"Sin categoría")+"")&&pe(z,L),X[0]&2048&&j!==(j=Ze(s[27].precio)+"")&&pe(ae,j),s[27].descuento?ie?ie.p(s,X):(ie=Dt(s),ie.c(),ie.m(y,null)):ie&&(ie.d(1),ie=null),X[0]&2048&&P!==(P=(s[27].stock!==null?s[27].stock:"N/A")+"")&&pe(K,P),X[0]&2048&&C!==(C=s[27].activo?"Activo":"Inactivo")&&pe(J,C),X[0]&2048&&_!==(_="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(s[27].activo?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"))&&e(F,"class",_),X[0]&2048&&ee!==(ee="/productos/"+s[27].id+"/editar")&&e(M,"href",ee)},d:function(Ce){Ce&&c(t),Z&&Z.d(),ie&&ie.d(),re=!1,ft(oe)}};return ke("SvelteRegisterBlock",{block:be,id:It.name,type:"each",source:"(326:12) {#each productosFiltrados as producto}",ctx:s}),be}function Tt(s){var _;let t,l,r,g,a,v,p,u,m,D,B,k,V,q="Eliminar Producto",I,L,z,R,y,x=((_=s[9])==null?void 0:_.nombre)+"",j,ae,ne,S,T,P="Eliminar",K,H,G="Cancelar",F,C;const J={c:function(){t=f("div"),l=f("div"),r=f("div"),g=E(),a=f("div"),v=f("div"),p=f("div"),u=f("div"),m=ve("svg"),D=ve("path"),B=E(),k=f("div"),V=f("h3"),V.textContent=q,I=E(),L=f("div"),z=f("p"),R=W("¿Estás seguro de que deseas eliminar "),y=f("strong"),j=W(x),ae=W(`? \r
                  Esta acción no se puede deshacer.`),ne=E(),S=f("div"),T=f("button"),T.textContent=P,K=E(),H=f("button"),H.textContent=G,this.h()},l:function(N){t=d(N,"DIV",{class:!0});var $=h(t);l=d($,"DIV",{class:!0});var M=h(l);r=d(M,"DIV",{class:!0}),h(r).forEach(c),g=w(M),a=d(M,"DIV",{class:!0});var O=h(a);v=d(O,"DIV",{class:!0});var U=h(v);p=d(U,"DIV",{class:!0});var ee=h(p);u=d(ee,"DIV",{class:!0});var je=h(u);m=he(je,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Y=h(m);D=he(Y,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(D).forEach(c),Y.forEach(c),je.forEach(c),B=w(ee),k=d(ee,"DIV",{class:!0});var te=h(k);V=d(te,"H3",{class:!0,"data-svelte-h":!0}),ue(V)!=="svelte-1md5smy"&&(V.textContent=q),I=w(te),L=d(te,"DIV",{class:!0});var ce=h(L);z=d(ce,"P",{class:!0});var se=h(z);R=Q(se,"¿Estás seguro de que deseas eliminar "),y=d(se,"STRONG",{});var re=h(y);j=Q(re,x),re.forEach(c),ae=Q(se,`? \r
                  Esta acción no se puede deshacer.`),se.forEach(c),ce.forEach(c),te.forEach(c),ee.forEach(c),U.forEach(c),ne=w(O),S=d(O,"DIV",{class:!0});var oe=h(S);T=d(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(T)!=="svelte-1pcicz0"&&(T.textContent=P),K=w(oe),H=d(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(H)!=="svelte-19bunvb"&&(H.textContent=G),oe.forEach(c),O.forEach(c),M.forEach(c),$.forEach(c),this.h()},h:function(){e(r,"class","fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"),n(r,i,465,6,18763),e(D,"stroke-linecap","round"),e(D,"stroke-linejoin","round"),e(D,"stroke-width","2"),e(D,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),n(D,i,476,16,19479),e(m,"class","h-6 w-6 text-red-600"),e(m,"fill","none"),e(m,"stroke","currentColor"),e(m,"viewBox","0 0 24 24"),n(m,i,475,14,19373),e(u,"class","mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"),n(u,i,474,12,19231),e(V,"class","text-lg leading-6 font-medium text-gray-900"),n(V,i,480,14,19818),n(y,i,485,55,20072),e(z,"class","text-sm text-gray-500"),n(z,i,484,16,19982),e(L,"class","mt-2"),n(L,i,483,14,19946),e(k,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),n(k,i,479,12,19743),e(p,"class","sm:flex sm:items-start"),n(p,i,473,10,19181),e(v,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),n(v,i,472,8,19117),e(T,"class","w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"),n(T,i,493,10,20366),e(H,"class","mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm"),n(H,i,499,10,20753),e(S,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"),n(S,i,492,8,20278),e(a,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"),n(a,i,471,6,18941),e(l,"class","flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"),n(l,i,463,4,18627),e(t,"class","fixed inset-0 z-50 overflow-y-auto"),n(t,i,462,2,18573)},m:function(N,$){ge(N,t,$),o(t,l),o(l,r),o(l,g),o(l,a),o(a,v),o(v,p),o(p,u),o(u,m),o(m,D),o(p,B),o(p,k),o(k,V),o(k,I),o(k,L),o(L,z),o(z,R),o(z,y),o(y,j),o(z,ae),o(a,ne),o(a,S),o(S,T),o(S,K),o(S,H),F||(C=[Be(r,"click",s[23],!1,!1,!1,!1),Be(T,"click",s[13],!1,!1,!1,!1),Be(H,"click",s[24],!1,!1,!1,!1)],F=!0)},p:function(N,$){var M;$[0]&512&&x!==(x=((M=N[9])==null?void 0:M.nombre)+"")&&pe(j,x)},d:function(N){N&&c(t),F=!1,ft(C)}};return ke("SvelteRegisterBlock",{block:J,id:Tt.name,type:"if",source:"(462:0) {#if showDeleteModal}",ctx:s}),J}function Vt(s){let t,l,r,g,a,v="Productos",p,u,m="Gestiona tu catálogo de productos",D,B,k,V,q,I,L,z,R,y,x,j,ae="Buscar",ne,S,T,P,K,H,G,F,C,J="Categoría",_,b,N,$="Todas",M,O,U,ee="Estado",je,Y,te,ce="Todos",se,re="Activos",oe,Z="Inactivos",ie,Ie,Te,be,xe,de,Ce,X,me,De,Se,Ae,Fe,Pe,Me=s[11].length+"",ze,Ge,Oe=s[11].length!==1?"s":"",Ue,Ke,Re,He,Xe,Ye,_e=s[6]&&_t(s),we=s[7]&&pt(s),Je=We(s[4]),ye=[];for(let Ve=0;Ve<Je.length;Ve+=1)ye[Ve]=bt(Gt(s,Je,Ve));function jt(Ve,A){return Ve[5]?Qt:Ve[11].length===0?Jt:Ve[8]==="table"?Xt:Kt}let $e=jt(s),Ne=$e(s),Ee=s[10]&&Tt(s);const St={c:function(){t=E(),l=f("div"),r=f("div"),g=f("div"),a=f("h1"),a.textContent=v,p=E(),u=f("p"),u.textContent=m,D=E(),B=f("a"),k=ve("svg"),V=ve("path"),q=W(`\r
      Nuevo Producto`),I=E(),_e&&_e.c(),L=E(),we&&we.c(),z=E(),R=f("div"),y=f("div"),x=f("div"),j=f("label"),j.textContent=ae,ne=E(),S=f("div"),T=f("input"),P=E(),K=ve("svg"),H=ve("path"),G=E(),F=f("div"),C=f("label"),C.textContent=J,_=E(),b=f("select"),N=f("option"),N.textContent=$;for(let A=0;A<ye.length;A+=1)ye[A].c();M=E(),O=f("div"),U=f("label"),U.textContent=ee,je=E(),Y=f("select"),te=f("option"),te.textContent=ce,se=f("option"),se.textContent=re,oe=f("option"),oe.textContent=Z,ie=E(),Ie=f("div"),Te=f("div"),be=f("button"),xe=ve("svg"),de=ve("path"),X=E(),me=f("button"),De=ve("svg"),Se=ve("path"),Fe=E(),Pe=f("p"),ze=W(Me),Ge=W(" producto"),Ue=W(Oe),Ke=E(),Ne.c(),Re=E(),Ee&&Ee.c(),He=zt(),this.h()},l:function(A){eo("svelte-1cpytj4",document.head).forEach(c),t=w(A),l=d(A,"DIV",{class:!0});var le=h(l);r=d(le,"DIV",{class:!0});var qe=h(r);g=d(qe,"DIV",{});var et=h(g);a=d(et,"H1",{class:!0,"data-svelte-h":!0}),ue(a)!=="svelte-lj40zw"&&(a.textContent=v),p=w(et),u=d(et,"P",{class:!0,"data-svelte-h":!0}),ue(u)!=="svelte-qah8b3"&&(u.textContent=m),et.forEach(c),D=w(qe),B=d(qe,"A",{href:!0,class:!0});var ht=h(B);k=he(ht,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Pt=h(k);V=he(Pt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(V).forEach(c),Pt.forEach(c),q=Q(ht,`\r
      Nuevo Producto`),ht.forEach(c),qe.forEach(c),I=w(le),_e&&_e.l(le),L=w(le),we&&we.l(le),z=w(le),R=d(le,"DIV",{class:!0});var tt=h(R);y=d(tt,"DIV",{class:!0});var Qe=h(y);x=d(Qe,"DIV",{class:!0});var ot=h(x);j=d(ot,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ue(j)!=="svelte-17f65jb"&&(j.textContent=ae),ne=w(ot),S=d(ot,"DIV",{class:!0});var lt=h(S);T=d(lt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),P=w(lt),K=he(lt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Nt=h(K);H=he(Nt,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(H).forEach(c),Nt.forEach(c),lt.forEach(c),ot.forEach(c),G=w(Qe),F=d(Qe,"DIV",{});var st=h(F);C=d(st,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ue(C)!=="svelte-1qbo8yb"&&(C.textContent=J),_=w(st),b=d(st,"SELECT",{id:!0,class:!0});var vt=h(b);N=d(vt,"OPTION",{"data-svelte-h":!0}),ue(N)!=="svelte-6o0elv"&&(N.textContent=$);for(let gt=0;gt<ye.length;gt+=1)ye[gt].l(vt);vt.forEach(c),st.forEach(c),M=w(Qe),O=d(Qe,"DIV",{});var rt=h(O);U=d(rt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ue(U)!=="svelte-qcn6jd"&&(U.textContent=ee),je=w(rt),Y=d(rt,"SELECT",{id:!0,class:!0});var at=h(Y);te=d(at,"OPTION",{"data-svelte-h":!0}),ue(te)!=="svelte-uh9n4x"&&(te.textContent=ce),se=d(at,"OPTION",{"data-svelte-h":!0}),ue(se)!=="svelte-1oyzk9x"&&(se.textContent=re),oe=d(at,"OPTION",{"data-svelte-h":!0}),ue(oe)!=="svelte-n79c89"&&(oe.textContent=Z),at.forEach(c),rt.forEach(c),Qe.forEach(c),ie=w(tt),Ie=d(tt,"DIV",{class:!0});var nt=h(Ie);Te=d(nt,"DIV",{class:!0});var it=h(Te);be=d(it,"BUTTON",{class:!0,title:!0});var Mt=h(be);xe=he(Mt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var At=h(xe);de=he(At,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(de).forEach(c),At.forEach(c),Mt.forEach(c),X=w(it),me=d(it,"BUTTON",{class:!0,title:!0});var Rt=h(me);De=he(Rt,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ht=h(De);Se=he(Ht,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(Se).forEach(c),Ht.forEach(c),Rt.forEach(c),it.forEach(c),Fe=w(nt),Pe=d(nt,"P",{class:!0});var ct=h(Pe);ze=Q(ct,Me),Ge=Q(ct," producto"),Ue=Q(ct,Oe),ct.forEach(c),nt.forEach(c),tt.forEach(c),Ke=w(le),Ne.l(le),le.forEach(c),Re=w(A),Ee&&Ee.l(A),He=zt(),this.h()},h:function(){document.title="Productos | Dashboard",e(a,"class","text-2xl md:text-3xl font-bold text-gray-900"),n(a,i,158,6,4076),e(u,"class","mt-1 text-sm text-gray-600"),n(u,i,159,6,4155),n(g,i,157,4,4063),e(V,"stroke-linecap","round"),e(V,"stroke-linejoin","round"),e(V,"stroke-width","2"),e(V,"d","M12 4v16m8-8H4"),n(V,i,167,8,4543),e(k,"class","w-5 h-5 mr-2"),e(k,"fill","none"),e(k,"stroke","currentColor"),e(k,"viewBox","0 0 24 24"),n(k,i,166,6,4453),e(B,"href","/productos/nuevo"),e(B,"class","inline-flex items-center justify-center px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors"),n(B,i,162,4,4254),e(r,"class","mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"),n(r,i,156,2,3972),e(j,"for","search"),e(j,"class","block text-sm font-medium text-gray-700 mb-1"),n(j,i,191,8,5262),e(T,"id","search"),e(T,"type","text"),e(T,"placeholder","Nombre, descripción o SKU..."),e(T,"class","w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"),n(T,i,195,10,5415),e(H,"stroke-linecap","round"),e(H,"stroke-linejoin","round"),e(H,"stroke-width","2"),e(H,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),n(H,i,203,12,5855),e(K,"class","absolute left-3 top-2.5 w-5 h-5 text-gray-400"),e(K,"fill","none"),e(K,"stroke","currentColor"),e(K,"viewBox","0 0 24 24"),n(K,i,202,10,5728),e(S,"class","relative"),n(S,i,194,8,5381),e(x,"class","md:col-span-2"),n(x,i,190,6,5225),e(C,"for","categoria"),e(C,"class","block text-sm font-medium text-gray-700 mb-1"),n(C,i,210,8,6079),N.__value="",Le(N,N.__value),n(N,i,218,10,6430),e(b,"id","categoria"),e(b,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"),s[2]===void 0&&Lt(()=>s[16].call(b)),n(b,i,213,8,6204),n(F,i,209,6,6064),e(U,"for","activo"),e(U,"class","block text-sm font-medium text-gray-700 mb-1"),n(U,i,227,8,6662),te.__value="",Le(te,te.__value),n(te,i,235,10,7001),se.__value="true",Le(se,se.__value),n(se,i,236,10,7044),oe.__value="false",Le(oe,oe.__value),n(oe,i,237,10,7093),e(Y,"id","activo"),e(Y,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"),s[3]===void 0&&Lt(()=>s[17].call(Y)),n(Y,i,230,8,6781),n(O,i,226,6,6647),e(y,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),n(y,i,188,4,5126),e(de,"stroke-linecap","round"),e(de,"stroke-linejoin","round"),e(de,"stroke-width","2"),e(de,"d","M4 6h16M4 10h16M4 14h16M4 18h16"),n(de,i,251,12,7683),e(xe,"class","w-5 h-5"),e(xe,"fill","none"),e(xe,"stroke","currentColor"),e(xe,"viewBox","0 0 24 24"),n(xe,i,250,10,7594),e(be,"class",Ce="p-2 rounded-lg transition-colors "+(s[8]==="table"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600 hover:bg-gray-200")),e(be,"title","Vista de tabla"),n(be,i,245,8,7326),e(Se,"stroke-linecap","round"),e(Se,"stroke-linejoin","round"),e(Se,"stroke-width","2"),e(Se,"d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"),n(Se,i,261,12,8207),e(De,"class","w-5 h-5"),e(De,"fill","none"),e(De,"stroke","currentColor"),e(De,"viewBox","0 0 24 24"),n(De,i,260,10,8118),e(me,"class",Ae="p-2 rounded-lg transition-colors "+(s[8]==="grid"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600 hover:bg-gray-200")),e(me,"title","Vista de cuadrícula"),n(me,i,255,8,7847),e(Te,"class","flex gap-2"),n(Te,i,244,6,7292),e(Pe,"class","text-sm text-gray-600"),n(Pe,i,266,6,8610),e(Ie,"class","mt-4 flex items-center justify-between"),n(Ie,i,243,4,7232),e(R,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6"),n(R,i,187,2,5045),e(l,"class","max-w-7xl mx-auto"),n(l,i,154,0,3918)},m:function(A,fe){ge(A,t,fe),ge(A,l,fe),o(l,r),o(r,g),o(g,a),o(g,p),o(g,u),o(r,D),o(r,B),o(B,k),o(k,V),o(B,q),o(l,I),_e&&_e.m(l,null),o(l,L),we&&we.m(l,null),o(l,z),o(l,R),o(R,y),o(y,x),o(x,j),o(x,ne),o(x,S),o(S,T),Le(T,s[1]),o(S,P),o(S,K),o(K,H),o(y,G),o(y,F),o(F,C),o(F,_),o(F,b),o(b,N);for(let le=0;le<ye.length;le+=1)ye[le]&&ye[le].m(b,null);ut(b,s[2],!0),o(y,M),o(y,O),o(O,U),o(O,je),o(O,Y),o(Y,te),o(Y,se),o(Y,oe),ut(Y,s[3],!0),o(R,ie),o(R,Ie),o(Ie,Te),o(Te,be),o(be,xe),o(xe,de),o(Te,X),o(Te,me),o(me,De),o(De,Se),o(Ie,Fe),o(Ie,Pe),o(Pe,ze),o(Pe,Ge),o(Pe,Ue),o(l,Ke),Ne.m(l,null),ge(A,Re,fe),Ee&&Ee.m(A,fe),ge(A,He,fe),Xe||(Ye=[Be(T,"input",s[15]),Be(b,"change",s[16]),Be(Y,"change",s[17]),Be(be,"click",s[18],!1,!1,!1,!1),Be(me,"click",s[19],!1,!1,!1,!1)],Xe=!0)},p:function(A,fe){if(A[6]?_e?_e.p(A,fe):(_e=_t(A),_e.c(),_e.m(l,L)):_e&&(_e.d(1),_e=null),A[7]?we?we.p(A,fe):(we=pt(A),we.c(),we.m(l,z)):we&&(we.d(1),we=null),fe[0]&2&&T.value!==A[1]&&Le(T,A[1]),fe[0]&16){Je=We(A[4]);let le;for(le=0;le<Je.length;le+=1){const qe=Gt(A,Je,le);ye[le]?ye[le].p(qe,fe):(ye[le]=bt(qe),ye[le].c(),ye[le].m(b,null))}for(;le<ye.length;le+=1)ye[le].d(1);ye.length=Je.length}fe[0]&20&&ut(b,A[2]),fe[0]&8&&ut(Y,A[3]),fe[0]&256&&Ce!==(Ce="p-2 rounded-lg transition-colors "+(A[8]==="table"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"))&&e(be,"class",Ce),fe[0]&256&&Ae!==(Ae="p-2 rounded-lg transition-colors "+(A[8]==="grid"?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"))&&e(me,"class",Ae),fe[0]&2048&&Me!==(Me=A[11].length+"")&&pe(ze,Me),fe[0]&2048&&Oe!==(Oe=A[11].length!==1?"s":"")&&pe(Ue,Oe),$e===($e=jt(A))&&Ne?Ne.p(A,fe):(Ne.d(1),Ne=$e(A),Ne&&(Ne.c(),Ne.m(l,null))),A[10]?Ee?Ee.p(A,fe):(Ee=Tt(A),Ee.c(),Ee.m(He.parentNode,He)):Ee&&(Ee.d(1),Ee=null)},i:mt,o:mt,d:function(A){A&&(c(t),c(l),c(Re),c(He)),_e&&_e.d(),we&&we.d(),Bt(ye,A),Ne.d(),Ee&&Ee.d(A),Xe=!1,ft(Ye)}};return ke("SvelteRegisterBlock",{block:St,id:Vt.name,type:"component",source:"",ctx:s}),St}function Ze(s){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(s)}const ro=s=>s.target.src="https://via.placeholder.com/150?text=Error",ao=s=>s.target.src="https://via.placeholder.com/300?text=Error";function no(s,t,l){let r,{$$slots:g={},$$scope:a}=t;$t("Page",g,[]);let v=[],p=[],u=!0,m="",D="",B="",k="",V="",q="",I="table",L=null,z=!1;Ot(async()=>{await R()});async function R(){try{l(5,u=!0),l(6,m="");const[_,b]=await Promise.all([fetch("/api/productos"),fetch("/api/categorias")]);if(_.ok){const N=await _.json();l(0,v=Array.isArray(N)?N:[])}else throw new Error("Error al cargar productos");if(b.ok){const N=await b.json();l(4,p=N.success?N.data:[])}else throw new Error("Error al cargar categorías")}catch(_){l(6,m="Error al cargar los datos: "+_.message),console.error(_),l(0,v=[]),l(4,p=[])}finally{l(5,u=!1)}}async function y(_){try{if(!(await fetch("/api/productos",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:_.id,activo:!_.activo})})).ok)throw new Error("Error al actualizar");await R(),l(7,D="Producto actualizado correctamente"),setTimeout(()=>l(7,D=""),3e3)}catch(b){l(6,m=b.message),setTimeout(()=>l(6,m=""),3e3)}}async function x(){if(L)try{if(!(await fetch(`/api/productos?id=${L.id}`,{method:"DELETE"})).ok)throw new Error("Error al eliminar");await R(),l(7,D="Producto eliminado correctamente"),setTimeout(()=>l(7,D=""),3e3)}catch(_){l(6,m=_.message),setTimeout(()=>l(6,m=""),3e3)}finally{l(10,z=!1),l(9,L=null)}}function j(_){l(9,L=_),l(10,z=!0)}const ae=[];Object.keys(t).forEach(_=>{!~ae.indexOf(_)&&_.slice(0,2)!=="$$"&&_!=="slot"&&so.warn(`<Page> was created with unknown prop '${_}'`)});function ne(){B=this.value,l(1,B)}function S(){k=Ut(this),l(2,k),l(4,p)}function T(){q=Ut(this),l(3,q)}const P=()=>l(8,I="table"),K=()=>l(8,I="grid"),H=_=>y(_),G=_=>j(_),F=_=>j(_),C=()=>l(10,z=!1),J=()=>l(10,z=!1);return s.$capture_state=()=>({onMount:Ot,goto:lo,productos:v,categorias:p,loading:u,error:m,success:D,searchTerm:B,filterCategoria:k,filterDestacado:V,filterActivo:q,viewMode:I,productoToDelete:L,showDeleteModal:z,loadData:R,toggleActivo:y,deleteProducto:x,confirmDelete:j,formatCurrency:Ze,productosFiltrados:r}),s.$inject_state=_=>{"productos"in _&&l(0,v=_.productos),"categorias"in _&&l(4,p=_.categorias),"loading"in _&&l(5,u=_.loading),"error"in _&&l(6,m=_.error),"success"in _&&l(7,D=_.success),"searchTerm"in _&&l(1,B=_.searchTerm),"filterCategoria"in _&&l(2,k=_.filterCategoria),"filterDestacado"in _&&l(25,V=_.filterDestacado),"filterActivo"in _&&l(3,q=_.filterActivo),"viewMode"in _&&l(8,I=_.viewMode),"productoToDelete"in _&&l(9,L=_.productoToDelete),"showDeleteModal"in _&&l(10,z=_.showDeleteModal),"productosFiltrados"in _&&l(11,r=_.productosFiltrados)},t&&"$$inject"in t&&s.$inject_state(t.$$inject),s.$$.update=()=>{s.$$.dirty[0]&15&&l(11,r=v.filter(_=>{var N,$;let b=!0;if(B){const M=B.toLowerCase();b=b&&(_.nombre.toLowerCase().includes(M)||((N=_.descripcion)==null?void 0:N.toLowerCase().includes(M))||(($=_.sku)==null?void 0:$.toLowerCase().includes(M)))}return k&&(b=b&&_.categoria_id===parseInt(k)),V!==""&&(b=b&&_.destacado===(V==="true")),q!==""&&(b=b&&_.activo===(q==="true")),b}))},[v,B,k,q,p,u,m,D,I,L,z,r,y,x,j,ne,S,T,P,K,H,G,F,C,J]}class ho extends Wt{constructor(t){super(t),Yt(this,t,no,Vt,Zt,{},null,[-1,-1]),ke("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Vt.name})}}export{ho as component};

import{S as Ds,i as Cs,d as U,s as Ps,n as Ft,a as Vs,F as fs,b as i,f as G,g as e,G as l,h as n,H as Is,m as D,j as d,k as p,I as X,p as C,o as u,e as Y,l as O,t as F,J as dt,K as ut,L as Lt,M as Oe,N as hs}from"../chunks/VwrJ_jBZ.js";import{g as js}from"../chunks/D0QH3NT1.js";import"../chunks/ClsFpFEz.js";const{Object:Ss,console:Rs}=js,r="C:/SERVER/SVELTE/tienda/src/routes/(admin)/dashboard/+page.svelte";function vs(f,t,s){const o=f.slice();return o[7]=t[s],o}function ps(f,t,s){const o=f.slice();return o[10]=t[s],o[12]=s,o}function _s(f,t,s){const o=f.slice();o[13]=t[s];const v=Math.max(...o[4].map(h=>h.total));o[14]=v;const a=o[14]>0?o[13].total/o[14]*100:0;return o[15]=a,o}function Be(f){let t,s;const o={c:function(){t=u("div"),s=F(f[5]),this.h()},l:function(a){t=d(a,"DIV",{class:!0});var h=p(t);s=O(h,f[5]),h.forEach(i),this.h()},h:function(){l(t,"class","mb-6 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg"),n(t,r,184,4,6008)},m:function(a,h){G(a,t,h),e(t,s)},p:function(a,h){h&32&&Y(s,a[5])},d:function(a){a&&i(t)}};return U("SvelteRegisterBlock",{block:o,id:Be.name,type:"if",source:"(184:2) {#if error}",ctx:f}),o}function ms(f){let t,s,o,v,a,h="Ventas Totales",m,c,w=ot(f[0].totalVentas)+"",k,E,P,x,I,N,b,y,R=ot(f[0].ventasMes)+"",S,j,V,z,_,g,H="Total Pedidos",B,T,J=f[0].totalPedidos+"",K,ft,W,L,A,St,Q,Nt,bt=f[0].pedidosHoy+"",Rt,zt,Ot,Z,ht,yt,wt,Fe="Pendientes",ge,Bt,qt=f[0].pedidosPendientes+"",Gt,xe,Mt,lt,vt,be,kt,Le="Requieren atenciÃ³n",ye,pt,_t,Et,Dt,qe="Productos",we,Ht,Xt=f[0].totalProductos+"",Jt,ke,Tt,at,mt,Ee,Ct,De,Yt=f[0].productosActivos+"",Kt,Qt,nt,rt,Pt,Xe="Ventas Ãºltimos 7 dÃ­as",Ce,Pe,it,Vt,Ye="Productos mÃ¡s vendidos",Ve,Ut,ct,At,gt,It,Ge="Pedidos Recientes",Ie,xt,Je="Ver todos â†’",je,jt;function Ke(st,M){return st[4].length>0?bs:xs}let Wt=Ke(f),$=Wt(f);function Qe(st,M){return st[3].length>0?ws:ys}let Zt=Qe(f),tt=Zt(f);function Ue(st,M){return st[2].length>0?Es:ks}let $t=Ue(f),et=$t(f);const We={c:function(){t=u("div"),s=u("div"),o=u("div"),v=u("div"),a=u("p"),a.textContent=h,m=C(),c=u("p"),k=F(w),E=C(),P=u("div"),x=ut("svg"),I=ut("path"),N=C(),b=u("p"),y=F("Este mes: "),S=F(R),j=C(),V=u("div"),z=u("div"),_=u("div"),g=u("p"),g.textContent=H,B=C(),T=u("p"),K=F(J),ft=C(),W=u("div"),L=ut("svg"),A=ut("path"),St=C(),Q=u("p"),Nt=F("Hoy: "),Rt=F(bt),zt=F(" pedidos"),Ot=C(),Z=u("div"),ht=u("div"),yt=u("div"),wt=u("p"),wt.textContent=Fe,ge=C(),Bt=u("p"),Gt=F(qt),xe=C(),Mt=u("div"),lt=ut("svg"),vt=ut("path"),be=C(),kt=u("p"),kt.textContent=Le,ye=C(),pt=u("div"),_t=u("div"),Et=u("div"),Dt=u("p"),Dt.textContent=qe,we=C(),Ht=u("p"),Jt=F(Xt),ke=C(),Tt=u("div"),at=ut("svg"),mt=ut("path"),Ee=C(),Ct=u("p"),De=F("Activos: "),Kt=F(Yt),Qt=C(),nt=u("div"),rt=u("div"),Pt=u("h2"),Pt.textContent=Xe,Ce=C(),$.c(),Pe=C(),it=u("div"),Vt=u("h2"),Vt.textContent=Ye,Ve=C(),tt.c(),Ut=C(),ct=u("div"),At=u("div"),gt=u("div"),It=u("h2"),It.textContent=Ge,Ie=C(),xt=u("a"),xt.textContent=Je,je=C(),jt=u("div"),et.c(),this.h()},l:function(M){t=d(M,"DIV",{class:!0});var q=p(t);s=d(q,"DIV",{class:!0});var te=p(s);o=d(te,"DIV",{class:!0});var ee=p(o);v=d(ee,"DIV",{});var se=p(v);a=d(se,"P",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-5s0odz"&&(a.textContent=h),m=D(se),c=d(se,"P",{class:!0});var Ze=p(c);k=O(Ze,w),Ze.forEach(i),se.forEach(i),E=D(ee),P=d(ee,"DIV",{class:!0});var $e=p(P);x=dt($e,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ts=p(x);I=dt(ts,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(I).forEach(i),ts.forEach(i),$e.forEach(i),ee.forEach(i),N=D(te),b=d(te,"P",{class:!0});var Se=p(b);y=O(Se,"Este mes: "),S=O(Se,R),Se.forEach(i),te.forEach(i),j=D(q),V=d(q,"DIV",{class:!0});var oe=p(V);z=d(oe,"DIV",{class:!0});var le=p(z);_=d(le,"DIV",{});var ae=p(_);g=d(ae,"P",{class:!0,"data-svelte-h":!0}),X(g)!=="svelte-1b1jwek"&&(g.textContent=H),B=D(ae),T=d(ae,"P",{class:!0});var es=p(T);K=O(es,J),es.forEach(i),ae.forEach(i),ft=D(le),W=d(le,"DIV",{class:!0});var ss=p(W);L=dt(ss,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var os=p(L);A=dt(os,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(A).forEach(i),os.forEach(i),ss.forEach(i),le.forEach(i),St=D(oe),Q=d(oe,"P",{class:!0});var ne=p(Q);Nt=O(ne,"Hoy: "),Rt=O(ne,bt),zt=O(ne," pedidos"),ne.forEach(i),oe.forEach(i),Ot=D(q),Z=d(q,"DIV",{class:!0});var re=p(Z);ht=d(re,"DIV",{class:!0});var ie=p(ht);yt=d(ie,"DIV",{});var ce=p(yt);wt=d(ce,"P",{class:!0,"data-svelte-h":!0}),X(wt)!=="svelte-m2xm77"&&(wt.textContent=Fe),ge=D(ce),Bt=d(ce,"P",{class:!0});var ls=p(Bt);Gt=O(ls,qt),ls.forEach(i),ce.forEach(i),xe=D(ie),Mt=d(ie,"DIV",{class:!0});var as=p(Mt);lt=dt(as,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ns=p(lt);vt=dt(ns,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(vt).forEach(i),ns.forEach(i),as.forEach(i),ie.forEach(i),be=D(re),kt=d(re,"P",{class:!0,"data-svelte-h":!0}),X(kt)!=="svelte-1ktli1e"&&(kt.textContent=Le),re.forEach(i),ye=D(q),pt=d(q,"DIV",{class:!0});var de=p(pt);_t=d(de,"DIV",{class:!0});var ue=p(_t);Et=d(ue,"DIV",{});var fe=p(Et);Dt=d(fe,"P",{class:!0,"data-svelte-h":!0}),X(Dt)!=="svelte-105o4ph"&&(Dt.textContent=qe),we=D(fe),Ht=d(fe,"P",{class:!0});var rs=p(Ht);Jt=O(rs,Xt),rs.forEach(i),fe.forEach(i),ke=D(ue),Tt=d(ue,"DIV",{class:!0});var is=p(Tt);at=dt(is,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var cs=p(at);mt=dt(cs,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(mt).forEach(i),cs.forEach(i),is.forEach(i),ue.forEach(i),Ee=D(de),Ct=d(de,"P",{class:!0});var Re=p(Ct);De=O(Re,"Activos: "),Kt=O(Re,Yt),Re.forEach(i),de.forEach(i),q.forEach(i),Qt=D(M),nt=d(M,"DIV",{class:!0});var he=p(nt);rt=d(he,"DIV",{class:!0});var ve=p(rt);Pt=d(ve,"H2",{class:!0,"data-svelte-h":!0}),X(Pt)!=="svelte-3lmzfx"&&(Pt.textContent=Xe),Ce=D(ve),$.l(ve),ve.forEach(i),Pe=D(he),it=d(he,"DIV",{class:!0});var pe=p(it);Vt=d(pe,"H2",{class:!0,"data-svelte-h":!0}),X(Vt)!=="svelte-nyy2ss"&&(Vt.textContent=Ye),Ve=D(pe),tt.l(pe),pe.forEach(i),he.forEach(i),Ut=D(M),ct=d(M,"DIV",{class:!0});var _e=p(ct);At=d(_e,"DIV",{class:!0});var ds=p(At);gt=d(ds,"DIV",{class:!0});var me=p(gt);It=d(me,"H2",{class:!0,"data-svelte-h":!0}),X(It)!=="svelte-1ip7im8"&&(It.textContent=Ge),Ie=D(me),xt=d(me,"A",{href:!0,class:!0,"data-svelte-h":!0}),X(xt)!=="svelte-36cxd2"&&(xt.textContent=Je),me.forEach(i),ds.forEach(i),je=D(_e),jt=d(_e,"DIV",{class:!0});var us=p(jt);et.l(us),us.forEach(i),_e.forEach(i),this.h()},h:function(){l(a,"class","text-sm font-medium text-gray-600"),n(a,r,200,12,6674),l(c,"class","text-2xl font-bold text-gray-900 mt-2"),n(c,r,201,12,6751),n(v,r,199,10,6655),l(I,"stroke-linecap","round"),l(I,"stroke-linejoin","round"),l(I,"stroke-width","2"),l(I,"d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),n(I,r,205,14,7032),l(x,"class","w-6 h-6 text-green-600"),l(x,"fill","none"),l(x,"stroke","currentColor"),l(x,"viewBox","0 0 24 24"),n(x,r,204,12,6926),l(P,"class","bg-green-100 p-3 rounded-full"),n(P,r,203,10,6869),l(o,"class","flex items-center justify-between"),n(o,r,198,8,6596),l(b,"class","text-xs text-gray-500 mt-2"),n(b,r,209,8,7343),l(s,"class","bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow"),n(s,r,197,6,6482),l(g,"class","text-sm font-medium text-gray-600"),n(g,r,216,12,7674),l(T,"class","text-2xl font-bold text-gray-900 mt-2"),n(T,r,217,12,7750),n(_,r,215,10,7655),l(A,"stroke-linecap","round"),l(A,"stroke-linejoin","round"),l(A,"stroke-width","2"),l(A,"d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"),n(A,r,221,14,8014),l(L,"class","w-6 h-6 text-blue-600"),l(L,"fill","none"),l(L,"stroke","currentColor"),l(L,"viewBox","0 0 24 24"),n(L,r,220,12,7909),l(W,"class","bg-blue-100 p-3 rounded-full"),n(W,r,219,10,7853),l(z,"class","flex items-center justify-between"),n(z,r,214,8,7596),l(Q,"class","text-xs text-gray-500 mt-2"),n(Q,r,225,8,8196),l(V,"class","bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow"),n(V,r,213,6,7482),l(wt,"class","text-sm font-medium text-gray-600"),n(wt,r,232,12,8520),l(Bt,"class","text-2xl font-bold text-gray-900 mt-2"),n(Bt,r,233,12,8593),n(yt,r,231,10,8501),l(vt,"stroke-linecap","round"),l(vt,"stroke-linejoin","round"),l(vt,"stroke-width","2"),l(vt,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),n(vt,r,237,14,8866),l(lt,"class","w-6 h-6 text-yellow-600"),l(lt,"fill","none"),l(lt,"stroke","currentColor"),l(lt,"viewBox","0 0 24 24"),n(lt,r,236,12,8759),l(Mt,"class","bg-yellow-100 p-3 rounded-full"),n(Mt,r,235,10,8701),l(ht,"class","flex items-center justify-between"),n(ht,r,230,8,8442),l(kt,"class","text-xs text-gray-500 mt-2"),n(kt,r,241,8,9049),l(Z,"class","bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow"),n(Z,r,229,6,8328),l(Dt,"class","text-sm font-medium text-gray-600"),n(Dt,r,248,12,9357),l(Ht,"class","text-2xl font-bold text-gray-900 mt-2"),n(Ht,r,249,12,9429),n(Et,r,247,10,9338),l(mt,"stroke-linecap","round"),l(mt,"stroke-linejoin","round"),l(mt,"stroke-width","2"),l(mt,"d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"),n(mt,r,253,14,9699),l(at,"class","w-6 h-6 text-purple-600"),l(at,"fill","none"),l(at,"stroke","currentColor"),l(at,"viewBox","0 0 24 24"),n(at,r,252,12,9592),l(Tt,"class","bg-purple-100 p-3 rounded-full"),n(Tt,r,251,10,9534),l(_t,"class","flex items-center justify-between"),n(_t,r,246,8,9279),l(Ct,"class","text-xs text-gray-500 mt-2"),n(Ct,r,257,8,9902),l(pt,"class","bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow"),n(pt,r,245,6,9165),l(t,"class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8"),n(t,r,195,4,6365),l(Pt,"class","text-lg font-semibold text-gray-900 mb-4"),n(Pt,r,265,8,10221),l(rt,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),n(rt,r,264,6,10141),l(Vt,"class","text-lg font-semibold text-gray-900 mb-4"),n(Vt,r,294,8,11491),l(it,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),n(it,r,293,6,11411),l(nt,"class","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),n(nt,r,262,4,10043),l(It,"class","text-lg font-semibold text-gray-900"),n(It,r,323,10,12885),l(xt,"href","/pedidos"),l(xt,"class","text-sm text-indigo-600 hover:text-indigo-700 font-medium"),n(xt,r,324,10,12967),l(gt,"class","flex items-center justify-between"),n(gt,r,322,8,12826),l(At,"class","p-6 border-b border-gray-200"),n(At,r,321,6,12774),l(jt,"class","overflow-x-auto"),n(jt,r,333,6,13179),l(ct,"class","bg-white rounded-lg shadow-sm border border-gray-200"),n(ct,r,320,4,12700)},m:function(M,q){G(M,t,q),e(t,s),e(s,o),e(o,v),e(v,a),e(v,m),e(v,c),e(c,k),e(o,E),e(o,P),e(P,x),e(x,I),e(s,N),e(s,b),e(b,y),e(b,S),e(t,j),e(t,V),e(V,z),e(z,_),e(_,g),e(_,B),e(_,T),e(T,K),e(z,ft),e(z,W),e(W,L),e(L,A),e(V,St),e(V,Q),e(Q,Nt),e(Q,Rt),e(Q,zt),e(t,Ot),e(t,Z),e(Z,ht),e(ht,yt),e(yt,wt),e(yt,ge),e(yt,Bt),e(Bt,Gt),e(ht,xe),e(ht,Mt),e(Mt,lt),e(lt,vt),e(Z,be),e(Z,kt),e(t,ye),e(t,pt),e(pt,_t),e(_t,Et),e(Et,Dt),e(Et,we),e(Et,Ht),e(Ht,Jt),e(_t,ke),e(_t,Tt),e(Tt,at),e(at,mt),e(pt,Ee),e(pt,Ct),e(Ct,De),e(Ct,Kt),G(M,Qt,q),G(M,nt,q),e(nt,rt),e(rt,Pt),e(rt,Ce),$.m(rt,null),e(nt,Pe),e(nt,it),e(it,Vt),e(it,Ve),tt.m(it,null),G(M,Ut,q),G(M,ct,q),e(ct,At),e(At,gt),e(gt,It),e(gt,Ie),e(gt,xt),e(ct,je),e(ct,jt),et.m(jt,null)},p:function(M,q){q&1&&w!==(w=ot(M[0].totalVentas)+"")&&Y(k,w),q&1&&R!==(R=ot(M[0].ventasMes)+"")&&Y(S,R),q&1&&J!==(J=M[0].totalPedidos+"")&&Y(K,J),q&1&&bt!==(bt=M[0].pedidosHoy+"")&&Y(Rt,bt),q&1&&qt!==(qt=M[0].pedidosPendientes+"")&&Y(Gt,qt),q&1&&Xt!==(Xt=M[0].totalProductos+"")&&Y(Jt,Xt),q&1&&Yt!==(Yt=M[0].productosActivos+"")&&Y(Kt,Yt),Wt===(Wt=Ke(M))&&$?$.p(M,q):($.d(1),$=Wt(M),$&&($.c(),$.m(rt,null))),Zt===(Zt=Qe(M))&&tt?tt.p(M,q):(tt.d(1),tt=Zt(M),tt&&(tt.c(),tt.m(it,null))),$t===($t=Ue(M))&&et?et.p(M,q):(et.d(1),et=$t(M),et&&(et.c(),et.m(jt,null)))},d:function(M){M&&(i(t),i(Qt),i(nt),i(Ut),i(ct)),$.d(),tt.d(),et.d()}};return U("SvelteRegisterBlock",{block:We,id:ms.name,type:"else",source:"(194:2) {:else}",ctx:f}),We}function gs(f){let t,s;const o={c:function(){t=u("div"),s=u("div"),this.h()},l:function(a){t=d(a,"DIV",{class:!0});var h=p(t);s=d(h,"DIV",{class:!0}),p(s).forEach(i),h.forEach(i),this.h()},h:function(){l(s,"class","animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"),n(s,r,191,6,6213),l(t,"class","flex items-center justify-center py-12"),n(t,r,190,4,6153)},m:function(a,h){G(a,t,h),e(t,s)},p:Ft,d:function(a){a&&i(t)}};return U("SvelteRegisterBlock",{block:o,id:gs.name,type:"if",source:"(190:2) {#if loading}",ctx:f}),o}function xs(f){let t,s="No hay datos de ventas";const o={c:function(){t=u("p"),t.textContent=s,this.h()},l:function(a){t=d(a,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1csjr63"&&(t.textContent=s),this.h()},h:function(){l(t,"class","text-gray-500 text-center py-8"),n(t,r,288,10,11265)},m:function(a,h){G(a,t,h)},p:Ft,d:function(a){a&&i(t)}};return U("SvelteRegisterBlock",{block:o,id:xs.name,type:"else",source:"(288:8) {:else}",ctx:f}),o}function bs(f){let t,s=Lt(f[4]),o=[];for(let a=0;a<s.length;a+=1)o[a]=Me(_s(f,s,a));const v={c:function(){t=u("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l:function(h){t=d(h,"DIV",{class:!0});var m=p(t);for(let c=0;c<o.length;c+=1)o[c].l(m);m.forEach(i),this.h()},h:function(){l(t,"class","space-y-3"),n(t,r,268,10,10361)},m:function(h,m){G(h,t,m);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null)},p:function(h,m){if(m&16){s=Lt(h[4]);let c;for(c=0;c<s.length;c+=1){const w=_s(h,s,c);o[c]?o[c].p(w,m):(o[c]=Me(w),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d:function(h){h&&i(t),Oe(o,h)}};return U("SvelteRegisterBlock",{block:v,id:bs.name,type:"if",source:"(268:8) {#if ventasPorDia.length > 0}",ctx:f}),v}function Me(f){let t,s,o,v=f[13].fecha+"",a,h,m,c=ot(f[13].total)+"",w,k,E,P,x;const I={c:function(){t=u("div"),s=u("div"),o=u("span"),a=F(v),h=C(),m=u("span"),w=F(c),k=C(),E=u("div"),P=u("div"),x=C(),this.h()},l:function(b){t=d(b,"DIV",{});var y=p(t);s=d(y,"DIV",{class:!0});var R=p(s);o=d(R,"SPAN",{class:!0});var S=p(o);a=O(S,v),S.forEach(i),h=D(R),m=d(R,"SPAN",{class:!0});var j=p(m);w=O(j,c),j.forEach(i),R.forEach(i),k=D(y),E=d(y,"DIV",{class:!0});var V=p(E);P=d(V,"DIV",{class:!0,style:!0}),p(P).forEach(i),V.forEach(i),x=D(y),y.forEach(i),this.h()},h:function(){l(o,"class","text-gray-600"),n(o,r,275,18,10724),l(m,"class","font-semibold text-gray-900"),n(m,r,276,18,10790),l(s,"class","flex items-center justify-between text-sm mb-1"),n(s,r,274,16,10644),l(P,"class","bg-indigo-600 h-2.5 rounded-full transition-all duration-500"),hs(P,"width",f[15]+"%"),n(P,r,279,18,10979),l(E,"class","w-full bg-gray-200 rounded-full h-2.5"),n(E,r,278,16,10908),n(t,r,273,14,10621)},m:function(b,y){G(b,t,y),e(t,s),e(s,o),e(o,a),e(s,h),e(s,m),e(m,w),e(t,k),e(t,E),e(E,P),e(t,x)},p:function(b,y){y&16&&v!==(v=b[13].fecha+"")&&Y(a,v),y&16&&c!==(c=ot(b[13].total)+"")&&Y(w,c),y&16&&hs(P,"width",b[15]+"%")},d:function(b){b&&i(t)}};return U("SvelteRegisterBlock",{block:I,id:Me.name,type:"each",source:"(270:12) {#each ventasPorDia as dia}",ctx:f}),I}function ys(f){let t,s="No hay datos de productos";const o={c:function(){t=u("p"),t.textContent=s,this.h()},l:function(a){t=d(a,"P",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-1w8qqtz"&&(t.textContent=s),this.h()},h:function(){l(t,"class","text-gray-500 text-center py-8"),n(t,r,314,10,12548)},m:function(a,h){G(a,t,h)},p:Ft,d:function(a){a&&i(t)}};return U("SvelteRegisterBlock",{block:o,id:ys.name,type:"else",source:"(314:8) {:else}",ctx:f}),o}function ws(f){let t,s=Lt(f[3]),o=[];for(let a=0;a<s.length;a+=1)o[a]=He(ps(f,s,a));const v={c:function(){t=u("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l:function(h){t=d(h,"DIV",{class:!0});var m=p(t);for(let c=0;c<o.length;c+=1)o[c].l(m);m.forEach(i),this.h()},h:function(){l(t,"class","space-y-4"),n(t,r,297,10,11638)},m:function(h,m){G(h,t,m);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null)},p:function(h,m){if(m&8){s=Lt(h[3]);let c;for(c=0;c<s.length;c+=1){const w=ps(h,s,c);o[c]?o[c].p(w,m):(o[c]=He(w),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d:function(h){h&&i(t),Oe(o,h)}};return U("SvelteRegisterBlock",{block:v,id:ws.name,type:"if",source:"(297:8) {#if productosPopulares.length > 0}",ctx:f}),v}function He(f){let t,s,o,v=f[12]+1+"",a,h,m,c,w=f[10].nombre+"",k,E,P,x=f[10].cantidad+"",I,N,b,y,R=ot(f[10].total)+"",S,j;const V={c:function(){t=u("div"),s=u("div"),o=u("div"),a=F(v),h=C(),m=u("div"),c=u("p"),k=F(w),E=C(),P=u("p"),I=F(x),N=F(" unidades"),b=C(),y=u("span"),S=F(R),j=C(),this.h()},l:function(_){t=d(_,"DIV",{class:!0});var g=p(t);s=d(g,"DIV",{class:!0});var H=p(s);o=d(H,"DIV",{class:!0});var B=p(o);a=O(B,v),B.forEach(i),h=D(H),m=d(H,"DIV",{class:!0});var T=p(m);c=d(T,"P",{class:!0});var J=p(c);k=O(J,w),J.forEach(i),E=D(T),P=d(T,"P",{class:!0});var K=p(P);I=O(K,x),N=O(K," unidades"),K.forEach(i),T.forEach(i),H.forEach(i),b=D(g),y=d(g,"SPAN",{class:!0});var ft=p(y);S=O(ft,R),ft.forEach(i),j=D(g),g.forEach(i),this.h()},h:function(){l(o,"class","w-8 h-8 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-semibold text-sm flex-shrink-0"),n(o,r,301,18,11867),l(c,"class","text-sm font-medium text-gray-900 truncate"),n(c,r,305,20,12134),l(P,"class","text-xs text-gray-500"),n(P,r,306,20,12231),l(m,"class","ml-3 flex-1 min-w-0"),n(m,r,304,18,12079),l(s,"class","flex items-center flex-1 min-w-0"),n(s,r,300,16,11801),l(y,"class","text-sm font-semibold text-gray-900 ml-2"),n(y,r,309,16,12364),l(t,"class","flex items-center justify-between"),n(t,r,299,14,11736)},m:function(_,g){G(_,t,g),e(t,s),e(s,o),e(o,a),e(s,h),e(s,m),e(m,c),e(c,k),e(m,E),e(m,P),e(P,I),e(P,N),e(t,b),e(t,y),e(y,S),e(t,j)},p:function(_,g){g&8&&w!==(w=_[10].nombre+"")&&Y(k,w),g&8&&x!==(x=_[10].cantidad+"")&&Y(I,x),g&8&&R!==(R=ot(_[10].total)+"")&&Y(S,R)},d:function(_){_&&i(t)}};return U("SvelteRegisterBlock",{block:V,id:He.name,type:"each",source:"(299:12) {#each productosPopulares as producto, index}",ctx:f}),V}function ks(f){let t,s,o,v,a,h="No hay pedidos recientes";const m={c:function(){t=u("div"),s=ut("svg"),o=ut("path"),v=C(),a=u("p"),a.textContent=h,this.h()},l:function(w){t=d(w,"DIV",{class:!0});var k=p(t);s=dt(k,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var E=p(s);o=dt(E,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(o).forEach(i),E.forEach(i),v=D(k),a=d(k,"P",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-asaat"&&(a.textContent=h),k.forEach(i),this.h()},h:function(){l(o,"stroke-linecap","round"),l(o,"stroke-linejoin","round"),l(o,"stroke-width","2"),l(o,"d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"),n(o,r,383,14,15828),l(s,"class","mx-auto h-12 w-12 text-gray-400"),l(s,"fill","none"),l(s,"stroke","currentColor"),l(s,"viewBox","0 0 24 24"),n(s,r,382,12,15713),l(a,"class","mt-2 text-gray-500"),n(a,r,385,12,16133),l(t,"class","p-8 text-center"),n(t,r,381,10,15670)},m:function(w,k){G(w,t,k),e(t,s),e(s,o),e(t,v),e(t,a)},p:Ft,d:function(w){w&&i(t)}};return U("SvelteRegisterBlock",{block:m,id:ks.name,type:"else",source:"(381:8) {:else}",ctx:f}),m}function Es(f){let t,s,o,v,a="Pedido",h,m,c="Cliente",w,k,E="Fecha",P,x,I="Total",N,b,y="Estado",R,S,j=Lt(f[2]),V=[];for(let _=0;_<j.length;_+=1)V[_]=Te(vs(f,j,_));const z={c:function(){t=u("table"),s=u("thead"),o=u("tr"),v=u("th"),v.textContent=a,h=C(),m=u("th"),m.textContent=c,w=C(),k=u("th"),k.textContent=E,P=C(),x=u("th"),x.textContent=I,N=C(),b=u("th"),b.textContent=y,R=C(),S=u("tbody");for(let g=0;g<V.length;g+=1)V[g].c();this.h()},l:function(g){t=d(g,"TABLE",{class:!0});var H=p(t);s=d(H,"THEAD",{class:!0});var B=p(s);o=d(B,"TR",{});var T=p(o);v=d(T,"TH",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-2ywe4z"&&(v.textContent=a),h=D(T),m=d(T,"TH",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-qqsdlo"&&(m.textContent=c),w=D(T),k=d(T,"TH",{class:!0,"data-svelte-h":!0}),X(k)!=="svelte-16pod96"&&(k.textContent=E),P=D(T),x=d(T,"TH",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-1yj0p24"&&(x.textContent=I),N=D(T),b=d(T,"TH",{class:!0,"data-svelte-h":!0}),X(b)!=="svelte-1zkpnw"&&(b.textContent=y),T.forEach(i),B.forEach(i),R=D(H),S=d(H,"TBODY",{class:!0});var J=p(S);for(let K=0;K<V.length;K+=1)V[K].l(J);J.forEach(i),H.forEach(i),this.h()},h:function(){l(v,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(v,r,338,16,13392),l(m,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(m,r,341,16,13550),l(k,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell"),n(k,r,344,16,13709),l(x,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(x,r,347,16,13887),l(b,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),n(b,r,350,16,14044),n(o,r,337,14,13370),l(s,"class","bg-gray-50"),n(s,r,336,12,13328),l(S,"class","bg-white divide-y divide-gray-200"),n(S,r,355,12,14241),l(t,"class","min-w-full divide-y divide-gray-200"),n(t,r,335,10,13263)},m:function(g,H){G(g,t,H),e(t,s),e(s,o),e(o,v),e(o,h),e(o,m),e(o,w),e(o,k),e(o,P),e(o,x),e(o,N),e(o,b),e(t,R),e(t,S);for(let B=0;B<V.length;B+=1)V[B]&&V[B].m(S,null)},p:function(g,H){if(H&4){j=Lt(g[2]);let B;for(B=0;B<j.length;B+=1){const T=vs(g,j,B);V[B]?V[B].p(T,H):(V[B]=Te(T),V[B].c(),V[B].m(S,null))}for(;B<V.length;B+=1)V[B].d(1);V.length=j.length}},d:function(g){g&&i(t),Oe(V,g)}};return U("SvelteRegisterBlock",{block:z,id:Es.name,type:"if",source:"(335:8) {#if pedidosRecientes.length > 0}",ctx:f}),z}function Te(f){let t,s,o,v=(f[7].numero_pedido||f[7].id)+"",a,h,m,c,w=f[7].cliente_nombre+"",k,E,P,x=f[7].cliente_whatsapp+"",I,N,b,y=new Date(f[7].created_at).toLocaleDateString("es-MX")+"",R,S,j,V=ot(f[7].total)+"",z,_,g,H,B=ze(f[7].estado)+"",T,J,K;const ft={c:function(){t=u("tr"),s=u("td"),o=F("#"),a=F(v),h=C(),m=u("td"),c=u("div"),k=F(w),E=C(),P=u("div"),I=F(x),N=C(),b=u("td"),R=F(y),S=C(),j=u("td"),z=F(V),_=C(),g=u("td"),H=u("span"),T=F(B),K=C(),this.h()},l:function(L){t=d(L,"TR",{class:!0});var A=p(t);s=d(A,"TD",{class:!0});var St=p(s);o=O(St,"#"),a=O(St,v),St.forEach(i),h=D(A),m=d(A,"TD",{class:!0});var Q=p(m);c=d(Q,"DIV",{class:!0});var Nt=p(c);k=O(Nt,w),Nt.forEach(i),E=D(Q),P=d(Q,"DIV",{class:!0});var bt=p(P);I=O(bt,x),bt.forEach(i),Q.forEach(i),N=D(A),b=d(A,"TD",{class:!0});var Rt=p(b);R=O(Rt,y),Rt.forEach(i),S=D(A),j=d(A,"TD",{class:!0});var zt=p(j);z=O(zt,V),zt.forEach(i),_=D(A),g=d(A,"TD",{class:!0});var Ot=p(g);H=d(Ot,"SPAN",{class:!0});var Z=p(H);T=O(Z,B),Z.forEach(i),Ot.forEach(i),K=D(A),A.forEach(i),this.h()},h:function(){l(s,"class","px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"),n(s,r,358,18,14425),l(c,"class","text-sm font-medium text-gray-900"),n(c,r,362,20,14664),l(P,"class","text-sm text-gray-500 hidden md:block"),n(P,r,363,20,14762),l(m,"class","px-6 py-4 whitespace-nowrap"),n(m,r,361,18,14602),l(b,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500 hidden sm:table-cell"),n(b,r,365,18,14889),l(j,"class","px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"),n(j,r,368,18,15096),l(H,"class",J="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+Ne(f[7].estado)),n(H,r,372,20,15331),l(g,"class","px-6 py-4 whitespace-nowrap"),n(g,r,371,18,15269),l(t,"class","hover:bg-gray-50 transition-colors"),n(t,r,357,16,14358)},m:function(L,A){G(L,t,A),e(t,s),e(s,o),e(s,a),e(t,h),e(t,m),e(m,c),e(c,k),e(m,E),e(m,P),e(P,I),e(t,N),e(t,b),e(b,R),e(t,S),e(t,j),e(j,z),e(t,_),e(t,g),e(g,H),e(H,T),e(t,K)},p:function(L,A){A&4&&v!==(v=(L[7].numero_pedido||L[7].id)+"")&&Y(a,v),A&4&&w!==(w=L[7].cliente_nombre+"")&&Y(k,w),A&4&&x!==(x=L[7].cliente_whatsapp+"")&&Y(I,x),A&4&&y!==(y=new Date(L[7].created_at).toLocaleDateString("es-MX")+"")&&Y(R,y),A&4&&V!==(V=ot(L[7].total)+"")&&Y(z,V),A&4&&B!==(B=ze(L[7].estado)+"")&&Y(T,B),A&4&&J!==(J="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+Ne(L[7].estado))&&l(H,"class",J)},d:function(L){L&&i(t)}};return U("SvelteRegisterBlock",{block:ft,id:Te.name,type:"each",source:"(357:14) {#each pedidosRecientes as pedido}",ctx:f}),ft}function Ae(f){let t,s,o,v,a="Dashboard",h,m,c="Resumen general de tu tienda",w,k,E=f[5]&&Be(f);function P(b,y){return b[1]?gs:ms}let x=P(f),I=x(f);const N={c:function(){t=C(),s=u("div"),o=u("div"),v=u("h1"),v.textContent=a,h=C(),m=u("p"),m.textContent=c,w=C(),E&&E.c(),k=C(),I.c(),this.h()},l:function(y){Is("svelte-17noznw",document.head).forEach(i),t=D(y),s=d(y,"DIV",{class:!0});var S=p(s);o=d(S,"DIV",{class:!0});var j=p(o);v=d(j,"H1",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-13vjfnd"&&(v.textContent=a),h=D(j),m=d(j,"P",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-10uqkou"&&(m.textContent=c),j.forEach(i),w=D(S),E&&E.l(S),k=D(S),I.l(S),S.forEach(i),this.h()},h:function(){document.title="Dashboard | Mi Tienda",l(v,"class","text-2xl md:text-3xl font-bold text-gray-900"),n(v,r,179,4,5828),l(m,"class","mt-1 text-sm text-gray-600"),n(m,r,180,4,5905),l(o,"class","mb-8"),n(o,r,178,2,5804),l(s,"class","max-w-7xl mx-auto"),n(s,r,176,0,5750)},m:function(y,R){G(y,t,R),G(y,s,R),e(s,o),e(o,v),e(o,h),e(o,m),e(s,w),E&&E.m(s,null),e(s,k),I.m(s,null)},p:function(y,[R]){y[5]?E?E.p(y,R):(E=Be(y),E.c(),E.m(s,k)):E&&(E.d(1),E=null),x===(x=P(y))&&I?I.p(y,R):(I.d(1),I=x(y),I&&(I.c(),I.m(s,null)))},i:Ft,o:Ft,d:function(y){y&&(i(t),i(s)),E&&E.d(),I.d()}};return U("SvelteRegisterBlock",{block:N,id:Ae.name,type:"component",source:"",ctx:f}),N}function ot(f){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(f||0)}function Ne(f){return{pendiente:"bg-yellow-100 text-yellow-800",confirmado:"bg-blue-100 text-blue-800",preparando:"bg-purple-100 text-purple-800",enviado:"bg-indigo-100 text-indigo-800",entregado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"}[f]||"bg-gray-100 text-gray-800"}function ze(f){return{pendiente:"Pendiente",confirmado:"Confirmado",preparando:"Preparando",enviado:"Enviado",entregado:"Entregado",cancelado:"Cancelado"}[f]||f}function Bs(f,t,s){let{$$slots:o={},$$scope:v}=t;Vs("Page",o,[]);let a={totalProductos:0,totalPedidos:0,pedidosPendientes:0,totalVentas:0,productosDestacados:0,productosActivos:0,ventasMes:0,pedidosHoy:0},h=!0,m=[],c=[],w=[],k="";fs(async()=>{await E()});async function E(){try{s(1,h=!0),s(5,k="");const[x,I]=await Promise.all([fetch("/api/productos"),fetch("/api/pedidos")]);let N=[];if(x.ok){const _=await x.json();N=Array.isArray(_)?_:_.data||[]}let b=[];if(I.ok){const _=await I.json();b=Array.isArray(_)?_:_.data||[]}console.log("ðŸ“Š Productos cargados:",N.length),console.log("ðŸ“Š Pedidos cargados:",b.length),s(0,a.totalProductos=N.length,a),s(0,a.productosActivos=N.filter(_=>_.activo).length,a),s(0,a.productosDestacados=N.filter(_=>_.destacado).length,a),s(0,a.totalPedidos=b.length,a),s(0,a.pedidosPendientes=b.filter(_=>_.estado==="pendiente").length,a);const y=new Date,R=new Date(y.getFullYear(),y.getMonth(),1);s(0,a.totalVentas=b.reduce((_,g)=>_+(parseFloat(g.total)||0),0),a),s(0,a.ventasMes=b.filter(_=>new Date(_.created_at)>=R).reduce((_,g)=>_+(parseFloat(g.total)||0),0),a);const S=new Date;S.setHours(0,0,0,0),s(0,a.pedidosHoy=b.filter(_=>new Date(_.created_at)>=S).length,a),s(2,m=b.sort((_,g)=>new Date(g.created_at)-new Date(_.created_at)).slice(0,5));const j={};b.forEach(_=>{_.items&&Array.isArray(_.items)&&_.items.forEach(g=>{j[g.producto_id]||(j[g.producto_id]={nombre:g.producto_nombre,cantidad:0,total:0}),j[g.producto_id].cantidad+=g.cantidad,j[g.producto_id].total+=parseFloat(g.subtotal)||0})}),s(3,c=Object.entries(j).map(([_,g])=>({id:_,...g})).sort((_,g)=>g.cantidad-_.cantidad).slice(0,5));const V=7,z={};for(let _=V-1;_>=0;_--){const g=new Date;g.setDate(g.getDate()-_),g.setHours(0,0,0,0);const H=g.toISOString().split("T")[0];z[H]=0}b.forEach(_=>{const g=new Date(_.created_at);g.setHours(0,0,0,0);const H=g.toISOString().split("T")[0];z.hasOwnProperty(H)&&(z[H]+=parseFloat(_.total)||0)}),s(4,w=Object.entries(z).map(([_,g])=>({fecha:new Date(_).toLocaleDateString("es-MX",{month:"short",day:"numeric"}),total:g})))}catch(x){console.error("Error cargando datos del dashboard:",x),s(5,k="Error al cargar los datos del dashboard")}finally{s(1,h=!1)}}const P=[];return Ss.keys(t).forEach(x=>{!~P.indexOf(x)&&x.slice(0,2)!=="$$"&&x!=="slot"&&Rs.warn(`<Page> was created with unknown prop '${x}'`)}),f.$capture_state=()=>({onMount:fs,stats:a,loading:h,pedidosRecientes:m,productosPopulares:c,ventasPorDia:w,error:k,loadDashboardData:E,formatCurrency:ot,getEstadoColor:Ne,getEstadoTexto:ze}),f.$inject_state=x=>{"stats"in x&&s(0,a=x.stats),"loading"in x&&s(1,h=x.loading),"pedidosRecientes"in x&&s(2,m=x.pedidosRecientes),"productosPopulares"in x&&s(3,c=x.productosPopulares),"ventasPorDia"in x&&s(4,w=x.ventasPorDia),"error"in x&&s(5,k=x.error)},t&&"$$inject"in t&&f.$inject_state(t.$$inject),[a,h,m,c,w,k]}class As extends Ds{constructor(t){super(t),Cs(this,t,Bs,Ae,Ps,{}),U("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:Ae.name})}}export{As as component};

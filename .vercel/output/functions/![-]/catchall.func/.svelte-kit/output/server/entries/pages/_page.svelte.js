import { c as create_ssr_component, a as validate_component, d as add_attribute, e as escape, b as each } from "../../chunks/ssr.js";
import { S as Shopping_cart } from "../../chunks/carritoStore.js";
import { T as Tag } from "../../chunks/tag.js";
import { M as Message_circle } from "../../chunks/message-circle.js";
import { I as Icon } from "../../chunks/Icon.js";
const Circle_alert = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  const iconNode = [
    ["circle", { "cx": "12", "cy": "12", "r": "10" }],
    [
      "line",
      {
        "x1": "12",
        "x2": "12",
        "y1": "8",
        "y2": "12"
      }
    ],
    [
      "line",
      {
        "x1": "12",
        "x2": "12.01",
        "y1": "16",
        "y2": "16"
      }
    ]
  ];
  return `${validate_component(Icon, "Icon").$$render($$result, Object.assign({}, { name: "circle-alert" }, $$props, { iconNode }), {}, {
    default: () => {
      return `${slots.default ? slots.default({}) : ``}`;
    }
  })}`;
});
const Filter = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  const iconNode = [
    [
      "polygon",
      {
        "points": "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"
      }
    ]
  ];
  return `${validate_component(Icon, "Icon").$$render($$result, Object.assign({}, { name: "filter" }, $$props, { iconNode }), {}, {
    default: () => {
      return `${slots.default ? slots.default({}) : ``}`;
    }
  })}`;
});
const Search = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  const iconNode = [
    ["circle", { "cx": "11", "cy": "11", "r": "8" }],
    ["path", { "d": "m21 21-4.3-4.3" }]
  ];
  return `${validate_component(Icon, "Icon").$$render($$result, Object.assign({}, { name: "search" }, $$props, { iconNode }), {}, {
    default: () => {
      return `${slots.default ? slots.default({}) : ``}`;
    }
  })}`;
});
const css$1 = {
  code: ".group.svelte-xrqwaw:hover img.svelte-xrqwaw{transform:scale(1.05)}.card.svelte-xrqwaw.svelte-xrqwaw{transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1)}",
  map: `{"version":3,"file":"ProductCard.svelte","sources":["ProductCard.svelte"],"sourcesContent":["<!-- src/lib/components/catalog/ProductCard.svelte -->\\r\\n<script>\\r\\n  import { ShoppingCart, MessageCircle, Tag } from 'lucide-svelte';\\r\\n  import { carrito } from '$lib/stores/carritoStore';\\r\\n  import { generarEnlacePregunta } from '$lib/utils/whatsapp';\\r\\n  \\r\\n  export let producto;\\r\\n  export let configuracion;\\r\\n  \\r\\n  // Valores por defecto para configuraci√≥n\\r\\n  const config = configuracion || {\\r\\n    nombre_empresa: 'Cat√°logoExpress',\\r\\n    whatsapp_numero: '7121920418',\\r\\n    moneda_simbolo: '$'\\r\\n  };\\r\\n  \\r\\n  // Determinar precio a mostrar (con oferta o normal)\\r\\n  $: precioMostrar = producto.precio_oferta || producto.precio;\\r\\n  $: tieneOferta = producto.precio_oferta && producto.precio_oferta < producto.precio;\\r\\n  $: descuentoPorcentaje = tieneOferta \\r\\n    ? Math.round(((producto.precio - producto.precio_oferta) / producto.precio) * 100)\\r\\n    : 0;\\r\\n  \\r\\n  // Estado de stock\\r\\n  $: sinStock = producto.stock === 0;\\r\\n  $: stockBajo = producto.stock > 0 && producto.stock <= (producto.stock_minimo || 5);\\r\\n  \\r\\n  // Funci√≥n para agregar al carrito\\r\\n  function agregarAlCarrito() {\\r\\n    if (sinStock) return;\\r\\n    \\r\\n    // Adaptar el producto al formato del carrito\\r\\n    const productoCarrito = {\\r\\n      id: producto.id,\\r\\n      nombre: producto.nombre,\\r\\n      precio: precioMostrar,\\r\\n      precio_unitario: precioMostrar,\\r\\n      imagen_url: producto.imagen_url,\\r\\n      marca: producto.marca_nombre || producto.marca,\\r\\n      stock: producto.stock,\\r\\n      descripcion_larga: producto.descripcion_larga\\r\\n    };\\r\\n    \\r\\n    carrito.agregarProducto(productoCarrito);\\r\\n  }\\r\\n  \\r\\n  // Funci√≥n para preguntar por WhatsApp\\r\\n  function preguntarPorWhatsApp() {\\r\\n    const productoWhatsApp = {\\r\\n      ...producto,\\r\\n      precio: precioMostrar\\r\\n    };\\r\\n    const url = generarEnlacePregunta(productoWhatsApp, config);\\r\\n    window.open(url, '_blank');\\r\\n  }\\r\\n<\/script>\\r\\n\\r\\n<div class=\\"card hover:shadow-lg transition-shadow duration-300 h-full flex flex-col group\\">\\r\\n  <!-- Imagen del producto -->\\r\\n  <div class=\\"relative h-48 bg-gray-100 overflow-hidden\\">\\r\\n    {#if producto.imagen_url}\\r\\n      <img \\r\\n        src={producto.imagen_url} \\r\\n        alt={producto.nombre}\\r\\n        class=\\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\\"\\r\\n        loading=\\"lazy\\"\\r\\n      />\\r\\n    {:else}\\r\\n      <div class=\\"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300\\">\\r\\n        <ShoppingCart class=\\"w-16 h-16 text-gray-400\\" />\\r\\n      </div>\\r\\n    {/if}\\r\\n    \\r\\n    <!-- Badges superiores -->\\r\\n    <div class=\\"absolute top-2 right-2 flex flex-col gap-2\\">\\r\\n      <!-- Badge de oferta -->\\r\\n      {#if tieneOferta}\\r\\n        <span class=\\"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg\\">\\r\\n          -{descuentoPorcentaje}%\\r\\n        </span>\\r\\n      {/if}\\r\\n      \\r\\n      <!-- Badge de stock -->\\r\\n      {#if stockBajo && !sinStock}\\r\\n        <span class=\\"bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg\\">\\r\\n          ¬°Solo {producto.stock}!\\r\\n        </span>\\r\\n      {:else if sinStock}\\r\\n        <span class=\\"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg\\">\\r\\n          Agotado\\r\\n        </span>\\r\\n      {/if}\\r\\n      \\r\\n      <!-- Badge de destacado -->\\r\\n      {#if producto.destacado}\\r\\n        <span class=\\"bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg flex items-center gap-1\\">\\r\\n          ‚≠ê Destacado\\r\\n        </span>\\r\\n      {/if}\\r\\n    </div>\\r\\n    \\r\\n    <!-- Badge de categor√≠a (inferior izquierdo) -->\\r\\n    {#if producto.categoria_nombre}\\r\\n      <div class=\\"absolute bottom-2 left-2\\">\\r\\n        <span class=\\"bg-white/90 backdrop-blur-sm text-gray-700 text-xs px-2 py-1 rounded-full flex items-center gap-1 shadow\\">\\r\\n          <Tag class=\\"w-3 h-3\\" />\\r\\n          {producto.categoria_nombre}\\r\\n        </span>\\r\\n      </div>\\r\\n    {/if}\\r\\n  </div>\\r\\n  \\r\\n  <!-- Contenido del producto -->\\r\\n  <div class=\\"p-4 flex-grow flex flex-col\\">\\r\\n    <!-- Marca -->\\r\\n    {#if producto.marca_nombre}\\r\\n      <p class=\\"text-xs text-gray-500 uppercase tracking-wide mb-1\\">\\r\\n        {producto.marca_nombre}\\r\\n      </p>\\r\\n    {/if}\\r\\n    \\r\\n    <!-- Nombre -->\\r\\n    <h3 class=\\"font-bold text-lg text-gray-800 mb-2 line-clamp-2\\">\\r\\n      {producto.nombre}\\r\\n    </h3>\\r\\n    \\r\\n    <!-- Descripci√≥n -->\\r\\n    <p class=\\"text-gray-600 text-sm mb-4 flex-grow line-clamp-3\\">\\r\\n      {producto.descripcion_larga || producto.descripcion_corta || 'Sin descripci√≥n disponible'}\\r\\n    </p>\\r\\n    \\r\\n    <!-- Precio y acciones -->\\r\\n    <div class=\\"mt-auto\\">\\r\\n      <!-- Precios -->\\r\\n      <div class=\\"mb-4\\">\\r\\n        <div class=\\"flex items-baseline gap-2\\">\\r\\n          <span class=\\"text-2xl font-bold text-primary-700\\">\\r\\n            {config.moneda_simbolo}{precioMostrar.toFixed(2)}\\r\\n          </span>\\r\\n          {#if tieneOferta}\\r\\n            <span class=\\"text-sm text-gray-500 line-through\\">\\r\\n              {config.moneda_simbolo}{producto.precio.toFixed(2)}\\r\\n            </span>\\r\\n          {/if}\\r\\n        </div>\\r\\n        \\r\\n        <!-- Info de stock -->\\r\\n        {#if !sinStock}\\r\\n          <p class=\\"text-xs text-gray-500 mt-1\\">\\r\\n            {#if stockBajo}\\r\\n              <span class=\\"text-amber-600 font-medium\\">Stock bajo: {producto.stock} unidades</span>\\r\\n            {:else}\\r\\n              Stock: {producto.stock} unidades\\r\\n            {/if}\\r\\n          </p>\\r\\n        {/if}\\r\\n        \\r\\n        <!-- SKU -->\\r\\n        {#if producto.sku}\\r\\n          <p class=\\"text-xs text-gray-400 mt-1\\">\\r\\n            SKU: {producto.sku}\\r\\n          </p>\\r\\n        {/if}\\r\\n      </div>\\r\\n      \\r\\n      <!-- Botones de acci√≥n -->\\r\\n      <div class=\\"flex gap-2\\">\\r\\n        <button\\r\\n          on:click={agregarAlCarrito}\\r\\n          disabled={sinStock}\\r\\n          class=\\"btn-primary flex-1 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\\"\\r\\n          title={sinStock ? 'Producto agotado' : 'A√±adir al carrito'}\\r\\n        >\\r\\n          <ShoppingCart class=\\"w-4 h-4\\" />\\r\\n          <span class=\\"hidden sm:inline\\">\\r\\n            {sinStock ? 'Agotado' : 'A√±adir'}\\r\\n          </span>\\r\\n        </button>\\r\\n        \\r\\n        <button\\r\\n          on:click={preguntarPorWhatsApp}\\r\\n          class=\\"btn-outline flex items-center justify-center gap-2\\"\\r\\n          title=\\"Preguntar por WhatsApp\\"\\r\\n        >\\r\\n          <MessageCircle class=\\"w-4 h-4\\" />\\r\\n          <span class=\\"hidden sm:inline\\">Consultar</span>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n  /* Efecto hover en la imagen */\\r\\n  .group:hover img {\\r\\n    transform: scale(1.05);\\r\\n  }\\r\\n  \\r\\n  /* Animaci√≥n suave */\\r\\n  .card {\\r\\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\r\\n  }\\r\\n</style>"],"names":[],"mappings":"AAkME,oBAAM,MAAM,CAAC,iBAAI,CACf,SAAS,CAAE,MAAM,IAAI,CACvB,CAGA,iCAAM,CACJ,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAClD"}`
};
const ProductCard = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let precioMostrar;
  let tieneOferta;
  let descuentoPorcentaje;
  let sinStock;
  let stockBajo;
  let { producto } = $$props;
  let { configuracion } = $$props;
  const config = configuracion || {
    moneda_simbolo: "$"
  };
  if ($$props.producto === void 0 && $$bindings.producto && producto !== void 0) $$bindings.producto(producto);
  if ($$props.configuracion === void 0 && $$bindings.configuracion && configuracion !== void 0) $$bindings.configuracion(configuracion);
  $$result.css.add(css$1);
  precioMostrar = producto.precio_oferta || producto.precio;
  tieneOferta = producto.precio_oferta && producto.precio_oferta < producto.precio;
  descuentoPorcentaje = tieneOferta ? Math.round((producto.precio - producto.precio_oferta) / producto.precio * 100) : 0;
  sinStock = producto.stock === 0;
  stockBajo = producto.stock > 0 && producto.stock <= (producto.stock_minimo || 5);
  return `  <div class="card hover:shadow-lg transition-shadow duration-300 h-full flex flex-col group svelte-xrqwaw"> <div class="relative h-48 bg-gray-100 overflow-hidden">${producto.imagen_url ? `<img${add_attribute("src", producto.imagen_url, 0)}${add_attribute("alt", producto.nombre, 0)} class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 svelte-xrqwaw" loading="lazy">` : `<div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300">${validate_component(Shopping_cart, "ShoppingCart").$$render($$result, { class: "w-16 h-16 text-gray-400" }, {}, {})}</div>`}  <div class="absolute top-2 right-2 flex flex-col gap-2"> ${tieneOferta ? `<span class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg">-${escape(descuentoPorcentaje)}%</span>` : ``}  ${stockBajo && !sinStock ? `<span class="bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg">¬°Solo ${escape(producto.stock)}!</span>` : `${sinStock ? `<span class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg" data-svelte-h="svelte-1fedf8j">Agotado</span>` : ``}`}  ${producto.destacado ? `<span class="bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg flex items-center gap-1" data-svelte-h="svelte-6yidru">‚≠ê Destacado</span>` : ``}</div>  ${producto.categoria_nombre ? `<div class="absolute bottom-2 left-2"><span class="bg-white/90 backdrop-blur-sm text-gray-700 text-xs px-2 py-1 rounded-full flex items-center gap-1 shadow">${validate_component(Tag, "Tag").$$render($$result, { class: "w-3 h-3" }, {}, {})} ${escape(producto.categoria_nombre)}</span></div>` : ``}</div>  <div class="p-4 flex-grow flex flex-col"> ${producto.marca_nombre ? `<p class="text-xs text-gray-500 uppercase tracking-wide mb-1">${escape(producto.marca_nombre)}</p>` : ``}  <h3 class="font-bold text-lg text-gray-800 mb-2 line-clamp-2">${escape(producto.nombre)}</h3>  <p class="text-gray-600 text-sm mb-4 flex-grow line-clamp-3">${escape(producto.descripcion_larga || producto.descripcion_corta || "Sin descripci√≥n disponible")}</p>  <div class="mt-auto"> <div class="mb-4"><div class="flex items-baseline gap-2"><span class="text-2xl font-bold text-primary-700">${escape(config.moneda_simbolo)}${escape(precioMostrar.toFixed(2))}</span> ${tieneOferta ? `<span class="text-sm text-gray-500 line-through">${escape(config.moneda_simbolo)}${escape(producto.precio.toFixed(2))}</span>` : ``}</div>  ${!sinStock ? `<p class="text-xs text-gray-500 mt-1">${stockBajo ? `<span class="text-amber-600 font-medium">Stock bajo: ${escape(producto.stock)} unidades</span>` : `Stock: ${escape(producto.stock)} unidades`}</p>` : ``}  ${producto.sku ? `<p class="text-xs text-gray-400 mt-1">SKU: ${escape(producto.sku)}</p>` : ``}</div>  <div class="flex gap-2"><button ${sinStock ? "disabled" : ""} class="btn-primary flex-1 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"${add_attribute("title", sinStock ? "Producto agotado" : "A√±adir al carrito", 0)}>${validate_component(Shopping_cart, "ShoppingCart").$$render($$result, { class: "w-4 h-4" }, {}, {})} <span class="hidden sm:inline">${escape(sinStock ? "Agotado" : "A√±adir")}</span></button> <button class="btn-outline flex items-center justify-center gap-2" title="Preguntar por WhatsApp">${validate_component(Message_circle, "MessageCircle").$$render($$result, { class: "w-4 h-4" }, {}, {})} <span class="hidden sm:inline" data-svelte-h="svelte-12ilfof">Consultar</span></button></div></div></div> </div>`;
});
const css = {
  code: "@keyframes svelte-7whk84-fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.card{animation:svelte-7whk84-fadeIn 0.3s ease-out}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<!-- src/routes/+page.svelte -->\\n<script>\\n  import ProductCard from '$lib/components/catalog/ProductCard.svelte';\\n  import { Search, Filter, AlertCircle } from 'lucide-svelte';\\n  \\n  // Recibir datos desde +page.server.js\\n  export let data;\\n  \\n  // Estados locales\\n  let busqueda = '';\\n  let categoriaFiltro = 'todas';\\n  let loading = false;\\n  \\n  // Productos desde Supabase\\n  $: productos = data.productos || [];\\n  $: categorias = data.categorias || [];\\n  $: configuracion = data.configuracion;\\n  \\n  // Filtrar productos localmente\\n  $: productosFiltrados = productos.filter(producto => {\\n    const coincideBusqueda = producto.nombre.toLowerCase().includes(busqueda.toLowerCase()) ||\\n                            (producto.descripcion_larga || '').toLowerCase().includes(busqueda.toLowerCase());\\n    \\n    const coincideCategoria = categoriaFiltro === 'todas' || \\n                             producto.categoria_id === categoriaFiltro;\\n    \\n    return coincideBusqueda && coincideCategoria;\\n  });\\n  \\n  // Funci√≥n para recargar productos (opcional para refrescar)\\n  async function recargarProductos() {\\n    loading = true;\\n    try {\\n      const response = await fetch('/api/productos?limit=50');\\n      const result = await response.json();\\n      if (result.success) {\\n        productos = result.data;\\n      }\\n    } catch (error) {\\n      console.error('Error recargando productos:', error);\\n    } finally {\\n      loading = false;\\n    }\\n  }\\n<\/script>\\n\\n<svelte:head>\\n  <title>{configuracion?.nombre_empresa || 'Cat√°logoExpress'} - Cat√°logo de Productos</title>\\n  <meta name=\\"description\\" content=\\"Encuentra los mejores productos y haz tu pedido por WhatsApp\\" />\\n</svelte:head>\\n\\n<div class=\\"space-y-8\\">\\n  <!-- Hero Section -->\\n  <section class=\\"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-8 text-white\\">\\n    <div class=\\"max-w-2xl\\">\\n      <h1 class=\\"text-4xl font-bold mb-4\\">Cat√°logo de Productos</h1>\\n      <p class=\\"text-lg opacity-90\\">\\n        Encuentra los mejores productos y haz tu pedido directamente por WhatsApp. \\n        F√°cil, r√°pido y sin complicaciones.\\n      </p>\\n      <div class=\\"bg-blue-50 border border-blue-100 rounded-xl p-6\\">\\n      <div class=\\"flex items-start space-x-3\\">\\n        <div class=\\"flex-shrink-0\\">\\n          <svg class=\\"w-6 h-6 text-blue-500\\" fill=\\"none\\" stroke=\\"currentColor\\" viewBox=\\"0 0 24 24\\">\\n            <path stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" stroke-width=\\"2\\" d=\\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\\"></path>\\n          </svg>\\n        </div>\\n        <div>\\n          <h3 class=\\"font-semibold text-blue-800 mb-1\\">¬øC√≥mo comprar?</h3>\\n          <ul class=\\"text-sm text-blue-700 space-y-1\\">\\n            <li>1. Agrega productos a tu carrito</li>\\n            <li>2. Revisa tu pedido en el carrito</li>\\n            <li>3. Env√≠a tu pedido por WhatsApp</li>\\n            <li>4. Coordina pago y entrega directamente</li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n      {#if productos.length > 0}\\n        <p class=\\"mt-4 text-sm opacity-75\\">\\n          üéâ {productos.length} productos disponibles\\n        </p>\\n      {/if}\\n    </div>\\n     \\n  </section>\\n  \\n  <!-- Filtros y B√∫squeda -->\\n  <div class=\\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\\">\\n    <div class=\\"flex flex-col md:flex-row md:items-center justify-between gap-4\\">\\n      <!-- B√∫squeda -->\\n      <div class=\\"flex-1\\">\\n        <div class=\\"relative\\">\\n          <Search class=\\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\\" />\\n          <input\\n            type=\\"text\\"\\n            placeholder=\\"Buscar productos...\\"\\n            bind:value={busqueda}\\n            class=\\"input pl-10\\"\\n          />\\n        </div>\\n      </div>\\n      \\n      <!-- Filtro por categor√≠a -->\\n      {#if categorias.length > 0}\\n        <div class=\\"w-full md:w-64\\">\\n          <div class=\\"relative\\">\\n            <Filter class=\\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\\" />\\n            <select \\n              bind:value={categoriaFiltro}\\n              class=\\"input pl-10 appearance-none\\"\\n            >\\n              <option value=\\"todas\\">Todas las categor√≠as</option>\\n              {#each categorias as categoria}\\n                <option value={categoria.id}>{categoria.nombre}</option>\\n              {/each}\\n            </select>\\n          </div>\\n        </div>\\n      {/if}\\n    </div>\\n  </div>\\n  \\n  <!-- Contador de resultados -->\\n  <div class=\\"flex justify-between items-center\\">\\n    <h2 class=\\"text-2xl font-bold text-gray-800\\">\\n      Productos \\n      {#if productosFiltrados.length !== productos.length}\\n        ({productosFiltrados.length})\\n      {/if}\\n    </h2>\\n    <span class=\\"text-gray-600\\">\\n      {productosFiltrados.length} {productosFiltrados.length === 1 ? 'producto' : 'productos'} encontrados\\n    </span>\\n  </div>\\n  \\n  <!-- Grid de Productos -->\\n  {#if loading}\\n    <!-- Estado de carga -->\\n    <div class=\\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\\">\\n      {#each Array(8) as _}\\n        <div class=\\"card animate-pulse\\">\\n          <div class=\\"h-48 bg-gray-200\\"></div>\\n          <div class=\\"p-4 space-y-3\\">\\n            <div class=\\"h-4 bg-gray-200 rounded w-3/4\\"></div>\\n            <div class=\\"h-3 bg-gray-200 rounded w-full\\"></div>\\n            <div class=\\"h-3 bg-gray-200 rounded w-5/6\\"></div>\\n            <div class=\\"h-8 bg-gray-200 rounded mt-4\\"></div>\\n          </div>\\n        </div>\\n      {/each}\\n    </div>\\n  {:else if productosFiltrados.length > 0}\\n    <div class=\\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\\">\\n      {#each productosFiltrados as producto (producto.id)}\\n        <ProductCard {producto} {configuracion} />\\n      {/each}\\n    </div>\\n  {:else if productos.length === 0}\\n    <!-- Sin productos en la base de datos -->\\n    <div class=\\"text-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-300\\">\\n      <div class=\\"max-w-md mx-auto\\">\\n        <div class=\\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6\\">\\n          <AlertCircle class=\\"w-12 h-12 text-gray-400\\" />\\n        </div>\\n        <h3 class=\\"text-xl font-semibold text-gray-700 mb-2\\">No hay productos disponibles</h3>\\n        <p class=\\"text-gray-500 mb-6\\">\\n          A√∫n no se han agregado productos al cat√°logo. Usa el panel de administraci√≥n para agregar productos.\\n        </p>\\n        <a href=\\"/dashboard/productos\\" class=\\"btn-primary inline-block\\">\\n          Ir al panel de administraci√≥n\\n        </a>\\n      </div>\\n    </div>\\n  {:else}\\n    <!-- No hay resultados de b√∫squeda -->\\n    <div class=\\"text-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-300\\">\\n      <div class=\\"max-w-md mx-auto\\">\\n        <div class=\\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6\\">\\n          <Search class=\\"w-12 h-12 text-gray-400\\" />\\n        </div>\\n        <h3 class=\\"text-xl font-semibold text-gray-700 mb-2\\">No se encontraron productos</h3>\\n        <p class=\\"text-gray-500 mb-6\\">\\n          {busqueda \\n            ? \`No hay resultados para \\"\${busqueda}\\"\` \\n            : 'Intenta ajustar los filtros de b√∫squeda'}\\n        </p>\\n        {#if busqueda || categoriaFiltro !== 'todas'}\\n          <button \\n            on:click={() => { busqueda = ''; categoriaFiltro = 'todas'; }}\\n            class=\\"btn-primary\\"\\n          >\\n            Limpiar filtros\\n          </button>\\n        {/if}\\n      </div>\\n    </div>\\n  {/if}\\n  \\n  <!-- Informaci√≥n adicional -->\\n  {#if productos.length > 0}\\n    <div class=\\"bg-blue-50 border border-blue-100 rounded-xl p-6\\">\\n      <div class=\\"flex items-start space-x-3\\">\\n        <div class=\\"flex-shrink-0\\">\\n          <svg class=\\"w-6 h-6 text-blue-500\\" fill=\\"none\\" stroke=\\"currentColor\\" viewBox=\\"0 0 24 24\\">\\n            <path stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" stroke-width=\\"2\\" d=\\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\\"></path>\\n          </svg>\\n        </div>\\n        <div>\\n          <h3 class=\\"font-semibold text-blue-800 mb-1\\">¬øC√≥mo comprar?</h3>\\n          <ul class=\\"text-sm text-blue-700 space-y-1\\">\\n            <li>1. Agrega productos a tu carrito</li>\\n            <li>2. Revisa tu pedido en el carrito</li>\\n            <li>3. Env√≠a tu pedido por WhatsApp</li>\\n            <li>4. Coordina pago y entrega directamente</li>\\n          </ul>\\n        </div>\\n      </div>\\n    </div>\\n  {/if}\\n</div>\\n\\n<style>\\n  /* Animaci√≥n suave para cambios de productos */\\n  @keyframes fadeIn {\\n    from {\\n      opacity: 0;\\n      transform: translateY(10px);\\n    }\\n    to {\\n      opacity: 1;\\n      transform: translateY(0);\\n    }\\n  }\\n  \\n  :global(.card) {\\n    animation: fadeIn 0.3s ease-out;\\n  }\\n</style>"],"names":[],"mappings":"AAgOE,WAAW,oBAAO,CAChB,IAAK,CACH,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,WAAW,IAAI,CAC5B,CACA,EAAG,CACD,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,WAAW,CAAC,CACzB,CACF,CAEQ,KAAO,CACb,SAAS,CAAE,oBAAM,CAAC,IAAI,CAAC,QACzB"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let productos;
  let categorias;
  let configuracion;
  let productosFiltrados;
  let { data } = $$props;
  let busqueda = "";
  let categoriaFiltro = "todas";
  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);
  $$result.css.add(css);
  productos = data.productos || [];
  categorias = data.categorias || [];
  configuracion = data.configuracion;
  productosFiltrados = productos.filter((producto) => {
    const coincideBusqueda = producto.nombre.toLowerCase().includes(busqueda.toLowerCase()) || (producto.descripcion_larga || "").toLowerCase().includes(busqueda.toLowerCase());
    const coincideCategoria = categoriaFiltro === "todas";
    return coincideBusqueda && coincideCategoria;
  });
  return `  ${$$result.head += `<!-- HEAD_svelte-2ucxgn_START -->${$$result.title = `<title>${escape(configuracion?.nombre_empresa || "Cat√°logoExpress")} - Cat√°logo de Productos</title>`, ""}<meta name="description" content="Encuentra los mejores productos y haz tu pedido por WhatsApp"><!-- HEAD_svelte-2ucxgn_END -->`, ""} <div class="space-y-8"> <section class="bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-8 text-white"><div class="max-w-2xl"><h1 class="text-4xl font-bold mb-4" data-svelte-h="svelte-xjyzde">Cat√°logo de Productos</h1> <p class="text-lg opacity-90" data-svelte-h="svelte-h1bpf2">Encuentra los mejores productos y haz tu pedido directamente por WhatsApp. 
        F√°cil, r√°pido y sin complicaciones.</p> <div class="bg-blue-50 border border-blue-100 rounded-xl p-6"><div class="flex items-start space-x-3"><div class="flex-shrink-0"><svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div><h3 class="font-semibold text-blue-800 mb-1" data-svelte-h="svelte-17hxb0s">¬øC√≥mo comprar?</h3> <ul class="text-sm text-blue-700 space-y-1"><li data-svelte-h="svelte-9rxj6v">1. Agrega productos a tu carrito</li> <li data-svelte-h="svelte-954s7s">2. Revisa tu pedido en el carrito</li> <li data-svelte-h="svelte-1attsi1">3. Env√≠a tu pedido por WhatsApp</li> <li data-svelte-h="svelte-1i6irks">4. Coordina pago y entrega directamente</li></ul></div></div></div> ${productos.length > 0 ? `<p class="mt-4 text-sm opacity-75">üéâ ${escape(productos.length)} productos disponibles</p>` : ``}</div></section>  <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200"><div class="flex flex-col md:flex-row md:items-center justify-between gap-4"> <div class="flex-1"><div class="relative">${validate_component(Search, "Search").$$render(
    $$result,
    {
      class: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"
    },
    {},
    {}
  )} <input type="text" placeholder="Buscar productos..." class="input pl-10"${add_attribute("value", busqueda, 0)}></div></div>  ${categorias.length > 0 ? `<div class="w-full md:w-64"><div class="relative">${validate_component(Filter, "Filter").$$render(
    $$result,
    {
      class: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"
    },
    {},
    {}
  )} <select class="input pl-10 appearance-none"><option value="todas" data-svelte-h="svelte-ta2y2u">Todas las categor√≠as</option>${each(categorias, (categoria) => {
    return `<option${add_attribute("value", categoria.id, 0)}>${escape(categoria.nombre)}</option>`;
  })}</select></div></div>` : ``}</div></div>  <div class="flex justify-between items-center"><h2 class="text-2xl font-bold text-gray-800">Productos 
      ${productosFiltrados.length !== productos.length ? `(${escape(productosFiltrados.length)})` : ``}</h2> <span class="text-gray-600">${escape(productosFiltrados.length)} ${escape(productosFiltrados.length === 1 ? "producto" : "productos")} encontrados</span></div>  ${`${productosFiltrados.length > 0 ? `<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">${each(productosFiltrados, (producto) => {
    return `${validate_component(ProductCard, "ProductCard").$$render($$result, { producto, configuracion }, {}, {})}`;
  })}</div>` : `${productos.length === 0 ? ` <div class="text-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-300"><div class="max-w-md mx-auto"><div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">${validate_component(Circle_alert, "AlertCircle").$$render($$result, { class: "w-12 h-12 text-gray-400" }, {}, {})}</div> <h3 class="text-xl font-semibold text-gray-700 mb-2" data-svelte-h="svelte-16wxi5l">No hay productos disponibles</h3> <p class="text-gray-500 mb-6" data-svelte-h="svelte-13cx7yr">A√∫n no se han agregado productos al cat√°logo. Usa el panel de administraci√≥n para agregar productos.</p> <a href="/dashboard/productos" class="btn-primary inline-block" data-svelte-h="svelte-w9ypd8">Ir al panel de administraci√≥n</a></div></div>` : ` <div class="text-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-300"><div class="max-w-md mx-auto"><div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">${validate_component(Search, "Search").$$render($$result, { class: "w-12 h-12 text-gray-400" }, {}, {})}</div> <h3 class="text-xl font-semibold text-gray-700 mb-2" data-svelte-h="svelte-12ymm8g">No se encontraron productos</h3> <p class="text-gray-500 mb-6">${escape("Intenta ajustar los filtros de b√∫squeda")}</p> ${``}</div></div>`}`}`}  ${productos.length > 0 ? `<div class="bg-blue-50 border border-blue-100 rounded-xl p-6"><div class="flex items-start space-x-3"><div class="flex-shrink-0"><svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div><h3 class="font-semibold text-blue-800 mb-1" data-svelte-h="svelte-17hxb0s">¬øC√≥mo comprar?</h3> <ul class="text-sm text-blue-700 space-y-1"><li data-svelte-h="svelte-9rxj6v">1. Agrega productos a tu carrito</li> <li data-svelte-h="svelte-954s7s">2. Revisa tu pedido en el carrito</li> <li data-svelte-h="svelte-1attsi1">3. Env√≠a tu pedido por WhatsApp</li> <li data-svelte-h="svelte-1i6irks">4. Coordina pago y entrega directamente</li></ul></div></div></div>` : ``} </div>`;
});
export {
  Page as default
};
